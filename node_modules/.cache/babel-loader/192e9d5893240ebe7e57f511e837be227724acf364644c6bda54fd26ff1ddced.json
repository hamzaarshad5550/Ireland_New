{"ast":null,"code":"var _jsxFileName = \"D:\\\\AI Project\\\\spectrum-ire-booking\\\\spectrum-ire-booking\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { MapPin, Phone, Users, Video, Star, Palette, Check, Search, CreditCard, Lock } from 'lucide-react';\nimport { WEBHOOK_CONFIG, createWebhookRequestBody, makeWebhookRequest } from './config/webhooks';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { stripePromise, STRIPE_CONFIG, formatAmount } from './config/stripe';\nimport StripePayment from './components/StripePayment';\n\n// Multiple theme configurations\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst themes = {\n  ocean: {\n    name: 'Ocean Blue',\n    primary: 'from-blue-600 to-blue-700',\n    primarySolid: 'bg-blue-600',\n    primaryHover: 'hover:bg-blue-700',\n    accent: 'text-blue-600',\n    accentBg: 'bg-blue-50',\n    border: 'border-blue-200',\n    text: 'text-blue-800',\n    gradient: 'from-blue-400 to-blue-600'\n  },\n  sunset: {\n    name: 'Sunset Orange',\n    primary: 'from-orange-500 to-red-500',\n    primarySolid: 'bg-orange-500',\n    primaryHover: 'hover:bg-orange-600',\n    accent: 'text-orange-600',\n    accentBg: 'bg-orange-50',\n    border: 'border-orange-200',\n    text: 'text-orange-800',\n    gradient: 'from-orange-400 to-red-500'\n  },\n  forest: {\n    name: 'Forest Green',\n    primary: 'from-emerald-600 to-green-700',\n    primarySolid: 'bg-emerald-600',\n    primaryHover: 'hover:bg-emerald-700',\n    accent: 'text-emerald-600',\n    accentBg: 'bg-emerald-50',\n    border: 'border-emerald-200',\n    text: 'text-emerald-800',\n    gradient: 'from-emerald-400 to-green-600'\n  },\n  lavender: {\n    name: 'Lavender Purple',\n    primary: 'from-purple-600 to-violet-700',\n    primarySolid: 'bg-purple-600',\n    primaryHover: 'hover:bg-purple-700',\n    accent: 'text-purple-600',\n    accentBg: 'bg-purple-50',\n    border: 'border-purple-200',\n    text: 'text-purple-800',\n    gradient: 'from-purple-400 to-violet-600'\n  },\n  rose: {\n    name: 'Rose Pink',\n    primary: 'from-pink-500 to-rose-600',\n    primarySolid: 'bg-pink-500',\n    primaryHover: 'hover:bg-pink-600',\n    accent: 'text-pink-600',\n    accentBg: 'bg-pink-50',\n    border: 'border-pink-200',\n    text: 'text-pink-800',\n    gradient: 'from-pink-400 to-rose-500'\n  },\n  midnight: {\n    name: 'Midnight Dark',\n    primary: 'from-slate-700 to-slate-900',\n    primarySolid: 'bg-slate-700',\n    primaryHover: 'hover:bg-slate-800',\n    accent: 'text-slate-700',\n    accentBg: 'bg-slate-50',\n    border: 'border-slate-200',\n    text: 'text-slate-800',\n    gradient: 'from-slate-500 to-slate-700'\n  },\n  teal: {\n    name: 'Teal Wave',\n    primary: 'from-teal-600 to-cyan-700',\n    primarySolid: 'bg-teal-600',\n    primaryHover: 'hover:bg-teal-700',\n    accent: 'text-teal-600',\n    accentBg: 'bg-teal-50',\n    border: 'border-teal-200',\n    text: 'text-teal-800',\n    gradient: 'from-teal-400 to-cyan-600'\n  },\n  amber: {\n    name: 'Golden Amber',\n    primary: 'from-amber-500 to-yellow-600',\n    primarySolid: 'bg-amber-500',\n    primaryHover: 'hover:bg-amber-600',\n    accent: 'text-amber-600',\n    accentBg: 'bg-amber-50',\n    border: 'border-amber-200',\n    text: 'text-amber-800',\n    gradient: 'from-amber-400 to-yellow-500'\n  }\n};\nexport default function CareHQBooking() {\n  _s();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [selectedClinic, setSelectedClinic] = useState(null);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [currentTheme, setCurrentTheme] = useState(() => {\n    // Load theme from localStorage or default to 'teal'\n    const savedTheme = localStorage.getItem('careHQTheme');\n    return savedTheme && themes[savedTheme] ? savedTheme : 'teal';\n  });\n  const [showThemeSelector, setShowThemeSelector] = useState(false);\n  const [formData, setFormData] = useState({\n    reasonForContact: '',\n    firstName: '',\n    lastName: '',\n    fullName: '',\n    dateOfBirth: '',\n    phoneNumber: '',\n    email: '',\n    city: '',\n    postcode: '',\n    symptoms: '',\n    // GMS Number field\n    gmsNumber: '',\n    // GP and Surgery fields\n    gp: '',\n    surgery: '',\n    // GMS Expiry field\n    gmsExpiry: '',\n    // Appointment Type field\n    appointmentType: '',\n    // Eircode field\n    eircode: '',\n    // Home Location fields\n    homeBuilding: '',\n    homeStreet: '',\n    homeCity: '',\n    homeCountry: '',\n    homePostcode: '',\n    homeEircode: '',\n    // Current Location fields\n    currentBuilding: '',\n    currentStreet: '',\n    currentCity: '',\n    currentCountry: '',\n    currentPostcode: '',\n    currentEircode: '',\n    // Payment fields\n    cardNumber: '',\n    expiryDate: '',\n    cvv: '',\n    cardName: '',\n    billingAddress: ''\n  });\n  const [useHomeAsCurrentLocation, setUseHomeAsCurrentLocation] = useState(false);\n  const [isLoadingEircode, setIsLoadingEircode] = useState(false);\n  const [isLoadingLocation, setIsLoadingLocation] = useState(false);\n  const [eircodeError, setEircodeError] = useState('');\n  const [showSuccessPopup, setShowSuccessPopup] = useState(false);\n  const [bookingReference, setBookingReference] = useState('');\n  const [showSignInPopup, setShowSignInPopup] = useState(false);\n  const [webhookResponse, setWebhookResponse] = useState(null);\n  const [isLoadingWebhook, setIsLoadingWebhook] = useState(false);\n\n  // Dropdown data from n8n webhook\n  const [dropdownData, setDropdownData] = useState({\n    gender: [],\n    doctors: [],\n    surgeries: [],\n    appointmentTypes: []\n  });\n  const [isLoadingDropdowns, setIsLoadingDropdowns] = useState(false);\n\n  // Payment-related state\n  const [paymentAmount, setPaymentAmount] = useState(50); // Default consultation fee\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false);\n  const [paymentError, setPaymentError] = useState(null);\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\n  const theme = themes[currentTheme];\n  const clinics = [{\n    id: 1,\n    name: 'CareHQ Medical Centre',\n    distance: '2.5 km',\n    price: 'Â£45',\n    rating: 4.8,\n    slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30', '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00', '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30', '21:30 - 21:45', '21:45 - 22:00']\n  }, {\n    id: 2,\n    name: 'Downtown Health Clinic',\n    distance: '3.8 km',\n    price: 'Â£40',\n    rating: 4.6,\n    slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30', '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00', '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30']\n  }, {\n    id: 3,\n    name: 'City Care Medical',\n    distance: '1.2 km',\n    price: 'Â£50',\n    rating: 4.9,\n    slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30', '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00', '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:30 - 21:45', '21:45 - 22:00']\n  }, {\n    id: 4,\n    name: 'Wellness Center Plus',\n    distance: '4.1 km',\n    price: 'Â£42',\n    rating: 4.7,\n    slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30', '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00', '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30', '21:30 - 21:45']\n  }, {\n    id: 5,\n    name: 'Prime Health Clinic',\n    distance: '2.8 km',\n    price: 'Â£48',\n    rating: 4.8,\n    slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30', '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00', '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30', '21:30 - 21:45', '21:45 - 22:00']\n  }];\n\n  // Debounce timer ref\n  const eircodeTimeoutRef = useRef(null);\n\n  // WebhookDropdownCall function to fetch dropdown data from n8n\n  const WebhookDropdownCall = async () => {\n    setIsLoadingDropdowns(true);\n    console.log('ðŸ”„ Starting WebhookDropdownCall...');\n    try {\n      const requestBody = createWebhookRequestBody(WEBHOOK_CONFIG.WORKFLOW_TYPES.LOOKUPS);\n      console.log('ðŸ“¤ Request body:', requestBody);\n      console.log('ðŸŒ Webhook URL:', WEBHOOK_CONFIG.LOOKUPS_WEBHOOK);\n      const response = await makeWebhookRequest(WEBHOOK_CONFIG.LOOKUPS_WEBHOOK, requestBody);\n      console.log('ðŸ“¥ Response status:', response.status);\n      debugger;\n      if (response.ok) {\n        var _parsedData$Gender, _parsedData$Doctors, _parsedData$Appointme;\n        const data = await response.json();\n        console.log('ðŸ“‹ Raw webhook response:', data);\n\n        // Handle different response structures\n        let parsedData;\n\n        // Check if response is an array (n8n often returns arrays)\n        if (Array.isArray(data) && data.length > 0) {\n          console.log('ðŸ“¦ Response is an array, using first element...');\n          const firstElement = data[0];\n\n          // Check if the first element has a 'data' field with JSON string\n          if (firstElement.data && typeof firstElement.data === 'string') {\n            try {\n              console.log('ðŸ” Parsing array[0].data as JSON string...');\n              parsedData = JSON.parse(firstElement.data);\n              console.log('âœ… Successfully parsed array[0].data:', parsedData);\n            } catch (parseError) {\n              console.error('âŒ Error parsing array[0].data as JSON:', parseError);\n              console.log('ðŸ“„ Raw array[0].data value:', firstElement.data);\n              return;\n            }\n          } else {\n            console.log('ðŸ“¦ Using array[0] as object...');\n            parsedData = firstElement;\n          }\n        }\n        // Check if data is in 'data' field as string (common n8n format)\n        else if (data.data && typeof data.data === 'string') {\n          try {\n            console.log('ðŸ” Parsing data.data as JSON string...');\n            parsedData = JSON.parse(data.data);\n            console.log('âœ… Successfully parsed data.data:', parsedData);\n          } catch (parseError) {\n            console.error('âŒ Error parsing data.data as JSON:', parseError);\n            console.log('ðŸ“„ Raw data.data value:', data.data);\n            return;\n          }\n        }\n        // Check if data is in 'data' field as object\n        else if (data.data && typeof data.data === 'object') {\n          console.log('ðŸ“¦ Using data.data as object...');\n          parsedData = data.data;\n        }\n        // Check if the response itself contains the arrays\n        else if (data.Gender || data.Doctors || data.AppointmentTypes) {\n          console.log('ðŸŽ¯ Using root data object...');\n          parsedData = data;\n        } else {\n          console.error('âŒ Unexpected response structure:', data);\n          return;\n        }\n        console.log('ðŸŽ‰ Final parsed data:', parsedData);\n        console.log('ðŸ‘¥ Gender array length:', ((_parsedData$Gender = parsedData.Gender) === null || _parsedData$Gender === void 0 ? void 0 : _parsedData$Gender.length) || 0);\n        console.log('ðŸ‘¨â€âš•ï¸ Doctors array length:', ((_parsedData$Doctors = parsedData.Doctors) === null || _parsedData$Doctors === void 0 ? void 0 : _parsedData$Doctors.length) || 0);\n        console.log('ðŸ“‹ AppointmentTypes array length:', ((_parsedData$Appointme = parsedData.AppointmentTypes) === null || _parsedData$Appointme === void 0 ? void 0 : _parsedData$Appointme.length) || 0);\n\n        // Filter and clean the data\n        const cleanGender = (parsedData.Gender || []).filter(item => item.Id && item.Id !== 0 && item.GenderName && item.GenderName.trim() !== '');\n        const cleanDoctors = (parsedData.Doctors || []).filter(item => item.GPID && item.GPID !== 0 && item.GPName && item.GPName.trim() !== '');\n        const cleanAppointmentTypes = (parsedData.AppointmentTypes || []).filter(item => item.CaseTypeID && item.CaseType && item.CaseType.trim() !== '');\n\n        // Handle surgeries - use provided Surgeries array or extract from doctors\n        let cleanSurgeries = [];\n        if (parsedData.Surgeries && Array.isArray(parsedData.Surgeries)) {\n          // Use provided Surgeries array if available\n          cleanSurgeries = parsedData.Surgeries.filter(item => item.SurgeryID && item.SurgeryID !== 0 && item.SurgeryName && item.SurgeryName.trim() !== '');\n          console.log('ðŸ¥ Using provided Surgeries array:', cleanSurgeries);\n        } else {\n          // Fallback: Extract unique surgeries from doctors array\n          console.log('ðŸ¥ No Surgeries array found, extracting from doctors...');\n          if (cleanDoctors && Array.isArray(cleanDoctors)) {\n            const surgeryMap = new Map();\n            cleanDoctors.forEach(doctor => {\n              if (doctor.SurgeryID && doctor.SurgeryID !== 0 && !surgeryMap.has(doctor.SurgeryID)) {\n                surgeryMap.set(doctor.SurgeryID, {\n                  SurgeryID: doctor.SurgeryID,\n                  SurgeryName: `Surgery ${doctor.SurgeryID}` // Placeholder name since surgery names aren't provided\n                });\n              }\n            });\n            cleanSurgeries = Array.from(surgeryMap.values());\n          }\n        }\n\n        // Update dropdown data state\n        const newDropdownData = {\n          gender: cleanGender,\n          doctors: cleanDoctors,\n          surgeries: cleanSurgeries,\n          appointmentTypes: cleanAppointmentTypes\n        };\n        console.log('ðŸ’¾ Setting dropdown data:', newDropdownData);\n        setDropdownData(newDropdownData);\n      } else {\n        const errorText = await response.text();\n        console.error('âŒ Failed to fetch dropdown data:', response.status, response.statusText);\n        console.error('ðŸ“„ Error response body:', errorText);\n      }\n    } catch (error) {\n      console.error('ðŸ’¥ Error fetching dropdown data:', error);\n      console.error('ðŸ” Error details:', error.message);\n    } finally {\n      setIsLoadingDropdowns(false);\n      console.log('âœ… WebhookDropdownCall completed');\n    }\n  };\n\n  // Function to get filtered GPs based on selected surgery\n  const getFilteredGPs = () => {\n    if (!formData.surgery || formData.surgery === '' || formData.surgery === 'all') {\n      // Show all GPs when no surgery selected or \"All\" is selected\n      return dropdownData.doctors;\n    } else {\n      // Filter GPs by selected SurgeryID\n      return dropdownData.doctors.filter(doctor => doctor.SurgeryID && doctor.SurgeryID.toString() === formData.surgery.toString());\n    }\n  };\n\n  // Payment handler functions\n  const handlePaymentSuccess = paymentResult => {\n    console.log('ðŸ’³ Payment successful:', paymentResult);\n    setPaymentSuccess(true);\n    setPaymentError(null);\n\n    // You can add additional logic here like:\n    // - Send booking confirmation to backend\n    // - Update booking status\n    // - Show success message\n  };\n  const handlePaymentError = error => {\n    console.error('ðŸ’³ Payment failed:', error);\n    setPaymentError(error);\n    setPaymentSuccess(false);\n  };\n\n  // Load dropdown data on component mount\n  useEffect(() => {\n    WebhookDropdownCall();\n  }, []);\n\n  // Eircode sanitization function\n  const sanitizeEircode = eircode => {\n    if (!eircode) return '';\n    // Remove all spaces and convert to uppercase\n    return eircode.replace(/\\s+/g, '').toUpperCase();\n  };\n\n  // Comprehensive Eircode validation with routing key verification\n  const isValidEircodeFormat = eircode => {\n    const sanitized = sanitizeEircode(eircode);\n\n    // Must be exactly 7 characters\n    if (sanitized.length !== 7) return false;\n\n    // Irish Eircode format: 3 alphanumeric + 4 alphanumeric (e.g., D02XY45)\n    const eircodeRegex = /^[A-Z0-9]{3}[A-Z0-9]{4}$/;\n    if (!eircodeRegex.test(sanitized)) return false;\n\n    // Validate routing key (first 3 characters) against known Irish routing keys\n    const routingKey = sanitized.substring(0, 3);\n    return isValidIrishRoutingKey(routingKey);\n  };\n\n  // Validate Irish routing keys based on official Eircode system\n  const isValidIrishRoutingKey = routingKey => {\n    // Official Irish Eircode routing keys by county/region\n    const validRoutingKeys = [\n    // Dublin (D01-D24)\n    'D01', 'D02', 'D03', 'D04', 'D05', 'D06', 'D07', 'D08', 'D09', 'D10', 'D11', 'D12', 'D13', 'D14', 'D15', 'D16', 'D17', 'D18', 'D20', 'D22', 'D24',\n    // Cork (T12, T23, T45, P12, P31, P43, P51, P61, P72, P85)\n    'T12', 'T23', 'T45', 'P12', 'P31', 'P43', 'P51', 'P61', 'P72', 'P85',\n    // Galway (H91, H53, H54, H62, H65, H71, F92, F94)\n    'H91', 'H53', 'H54', 'H62', 'H65', 'H71', 'F92', 'F94',\n    // Limerick (V94, V95, V42, V14, V23, V35)\n    'V94', 'V95', 'V42', 'V14', 'V23', 'V35',\n    // Waterford (X91, X35, X42)\n    'X91', 'X35', 'X42',\n    // Kilkenny (R95, R32, R21)\n    'R95', 'R32', 'R21',\n    // Louth (A91, A92)\n    'A91', 'A92',\n    // Meath (C15, A83, A85)\n    'C15', 'A83', 'A85',\n    // Kildare (W23, R56, W91)\n    'W23', 'R56', 'W91',\n    // Wicklow (A98, A63, A67)\n    'A98', 'A63', 'A67',\n    // Wexford (Y35, Y25, Y21)\n    'Y35', 'Y25', 'Y21',\n    // Carlow (R93)\n    'R93',\n    // Laois (R32, R35)\n    'R35',\n    // Kerry (V92, V93, V31)\n    'V92', 'V93', 'V31',\n    // Clare (V95, V14, V15)\n    'V15',\n    // Tipperary (E41, E34, E25, E91)\n    'E41', 'E34', 'E25', 'E91',\n    // Sligo (F91, F26)\n    'F91', 'F26',\n    // Mayo (F23, F28, F12)\n    'F23', 'F28', 'F12',\n    // Roscommon (F42, F45)\n    'F42', 'F45',\n    // Leitrim (N41)\n    'N41',\n    // Longford (N39)\n    'N39',\n    // Westmeath (N37, N91)\n    'N37', 'N91',\n    // Offaly (R42)\n    'R42',\n    // Cavan (H12)\n    'H12',\n    // Monaghan (H18)\n    'H18',\n    // Donegal (F93)\n    'F93'];\n    return validRoutingKeys.includes(routingKey);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const newFormData = {\n      ...formData,\n      [name]: value\n    };\n\n    // Auto-update fullName when firstName or lastName changes\n    if (name === 'firstName') {\n      newFormData.fullName = `${value} ${formData.lastName}`.trim();\n    } else if (name === 'lastName') {\n      newFormData.fullName = `${formData.firstName} ${value}`.trim();\n    }\n\n    // Handle GP selection - automatically select corresponding surgery (GP -> Surgery)\n    if (name === 'gp' && value) {\n      console.log('ðŸ”„ GP selected:', value);\n      // Find the selected doctor and auto-populate surgery\n      const selectedDoctor = dropdownData.doctors.find(doctor => doctor.GPID.toString() === value.toString());\n      if (selectedDoctor && selectedDoctor.SurgeryID) {\n        console.log('âœ… Auto-selecting surgery:', selectedDoctor.SurgeryID, 'for GP:', selectedDoctor.GPName);\n        newFormData.surgery = selectedDoctor.SurgeryID.toString();\n      } else {\n        console.log('âŒ No matching surgery found for GP:', value);\n        newFormData.surgery = '';\n      }\n    }\n\n    // Handle Surgery selection - clear GP selection to force user to choose from filtered list\n    if (name === 'surgery') {\n      console.log('ðŸ”„ Surgery selected:', value);\n      // Clear GP selection when surgery changes so user can see filtered GPs\n      newFormData.gp = '';\n      if (value === 'all') {\n        console.log('ðŸ“‹ \"All Surgeries\" selected - showing all GPs');\n      } else if (value) {\n        console.log('ðŸ¥ Specific surgery selected - filtering GPs for SurgeryID:', value);\n      }\n    }\n\n    // If checkbox is checked and a home location field is being updated,\n    // also update the corresponding current location field\n    if (useHomeAsCurrentLocation) {\n      if (name === 'homeBuilding') newFormData.currentBuilding = value;else if (name === 'homeStreet') newFormData.currentStreet = value;else if (name === 'homeCity') newFormData.currentCity = value;else if (name === 'homeCountry') newFormData.currentCountry = value;else if (name === 'homePostcode') newFormData.currentPostcode = value;else if (name === 'homeEircode') newFormData.currentEircode = value;\n    }\n    setFormData(newFormData);\n\n    // Trigger Eircode lookup when Eircode field changes\n    if (name === 'eircode') {\n      // Clear previous timeout\n      if (eircodeTimeoutRef.current) {\n        clearTimeout(eircodeTimeoutRef.current);\n      }\n\n      // Clear error when user starts typing\n      setEircodeError('');\n      const sanitizedEircode = sanitizeEircode(value);\n      if (value.length === 0) {\n        // Clear current location fields when Eircode is cleared\n        setFormData(prev => ({\n          ...prev,\n          currentBuilding: '',\n          currentStreet: '',\n          currentCity: '',\n          currentCountry: '',\n          currentPostcode: ''\n        }));\n      } else if (sanitizedEircode.length >= 6) {\n        // Debounce the API call - only trigger when we have enough characters\n        eircodeTimeoutRef.current = setTimeout(() => {\n          // Get the current value from the form data to ensure we're using the latest value\n          const currentEircode = sanitizeEircode(newFormData.eircode);\n          if (currentEircode.length >= 6) {\n            lookupEircode(currentEircode);\n          }\n        }, 1000);\n      }\n    }\n  };\n  const handleClinicSelect = clinic => {\n    if ((selectedClinic === null || selectedClinic === void 0 ? void 0 : selectedClinic.id) === clinic.id) {\n      setSelectedClinic(null);\n      setSelectedSlot(null);\n    } else {\n      setSelectedClinic(clinic);\n      setSelectedSlot(null);\n    }\n  };\n  const handleSlotSelect = slot => {\n    setSelectedSlot(slot);\n  };\n  const handleThemeChange = themeKey => {\n    setCurrentTheme(themeKey);\n    setShowThemeSelector(false);\n    // Save theme to localStorage for persistence\n    localStorage.setItem('careHQTheme', themeKey);\n  };\n  const handleUseHomeAsCurrentLocation = e => {\n    const isChecked = e.target.checked;\n    setUseHomeAsCurrentLocation(isChecked);\n    if (isChecked) {\n      // Copy home location fields to current location fields\n      setFormData(prev => ({\n        ...prev,\n        currentBuilding: prev.homeBuilding,\n        currentStreet: prev.homeStreet,\n        currentCity: prev.homeCity,\n        currentCountry: prev.homeCountry,\n        currentPostcode: prev.homePostcode,\n        currentEircode: prev.homeEircode\n      }));\n    }\n  };\n\n  // Helper function to check if appointment type requires clinic selection\n  const isVirtualAppointment = () => {\n    // Check if the appointment type is Video Consult or Phone Consult based on CaseType\n    const selectedAppointmentType = dropdownData.appointmentTypes.find(type => type.CaseTypeID.toString() === formData.appointmentType.toString());\n    if (selectedAppointmentType) {\n      const caseType = selectedAppointmentType.CaseType.toLowerCase();\n      return caseType.includes('video') || caseType.includes('phone');\n    }\n\n    // Fallback to old logic for backward compatibility\n    return formData.appointmentType === 'vc' || formData.appointmentType === 'pc';\n  };\n\n  // Generate random booking reference number\n  const generateBookingReference = () => {\n    const prefix = 'BK';\n    const timestamp = Date.now().toString().slice(-6);\n    const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');\n    return `${prefix}${timestamp}${random}`;\n  };\n\n  // Handle booking completion\n  const handleCompleteBooking = () => {\n    const reference = generateBookingReference();\n    setBookingReference(reference);\n    setShowSuccessPopup(true);\n  };\n\n  // Handle success popup close\n  const handleSuccessPopupClose = () => {\n    setShowSuccessPopup(false);\n    setCurrentStep(1);\n    // Reset form data if needed\n    setSelectedClinic(null);\n    setSelectedSlot(null);\n  };\n\n  // Webhook sign-in function\n  const handleSignIn = async () => {\n    setIsLoadingWebhook(true);\n    setWebhookResponse(null);\n    try {\n      const requestBody = createWebhookRequestBody(WEBHOOK_CONFIG.WORKFLOW_TYPES.LOOKUPS);\n      const response = await makeWebhookRequest(WEBHOOK_CONFIG.LOOKUPS_WEBHOOK, requestBody);\n      if (response.ok) {\n        const data = await response.json();\n        setWebhookResponse(data);\n        setShowSignInPopup(true);\n      } else {\n        // Handle non-JSON responses or errors\n        const text = await response.text();\n        setWebhookResponse({\n          error: true,\n          status: response.status,\n          statusText: response.statusText,\n          message: text || 'Failed to connect to webhook'\n        });\n        setShowSignInPopup(true);\n      }\n    } catch (error) {\n      console.error('Webhook error:', error);\n      setWebhookResponse({\n        error: true,\n        message: error.message || 'Network error occurred',\n        details: 'Unable to connect to the webhook endpoint'\n      });\n      setShowSignInPopup(true);\n    } finally {\n      setIsLoadingWebhook(false);\n    }\n  };\n  const handleSignInPopupClose = () => {\n    setShowSignInPopup(false);\n    setWebhookResponse(null);\n  };\n\n  // Function to render JSON data as a table\n  const renderJsonAsTable = (data, parentKey = '') => {\n    if (!data || typeof data !== 'object') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600 p-2\",\n        children: String(data)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }, this);\n    }\n    if (Array.isArray(data)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: data.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border border-gray-200 rounded-lg overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 px-4 py-2 border-b border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-700\",\n              children: [\"Item \", index + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: renderJsonAsTable(item, `${parentKey}[${index}]`)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 9\n      }, this);\n    }\n    const entries = Object.entries(data);\n    if (entries.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 italic\",\n        children: \"Empty object\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full divide-y divide-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Property\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: \"bg-white divide-y divide-gray-200\",\n          children: entries.map(([key, value]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"hover:bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-4 py-3 text-sm font-medium text-gray-900\",\n              children: key\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-4 py-3 text-sm text-gray-600\",\n              children: typeof value === 'object' && value !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"max-w-md\",\n                children: Array.isArray(value) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: value.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-2 rounded text-xs\",\n                    children: typeof item === 'object' ? JSON.stringify(item, null, 2) : String(item)\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 798,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"pre\", {\n                  className: \"text-xs bg-gray-50 p-2 rounded whitespace-pre-wrap\",\n                  children: JSON.stringify(value, null, 2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 804,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `${typeof value === 'string' ? 'text-green-600' : typeof value === 'number' ? 'text-blue-600' : typeof value === 'boolean' ? 'text-purple-600' : 'text-gray-600'}`,\n                children: String(value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-4 py-3 text-sm text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-flex px-2 py-1 text-xs font-medium rounded-full ${typeof value === 'string' ? 'bg-green-100 text-green-800' : typeof value === 'number' ? 'bg-blue-100 text-blue-800' : typeof value === 'boolean' ? 'bg-purple-100 text-purple-800' : Array.isArray(value) ? 'bg-orange-100 text-orange-800' : typeof value === 'object' ? 'bg-gray-100 text-gray-800' : 'bg-gray-100 text-gray-800'}`,\n                children: Array.isArray(value) ? 'array' : typeof value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 17\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Get available time slots based on appointment type\n  const getAvailableTimeSlots = () => {\n    if (isVirtualAppointment()) {\n      // For virtual appointments, return evening time slots in 24-hour format\n      return ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30', '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00', '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30', '21:30 - 21:45', '21:45 - 22:00'];\n    } else {\n      // For face-to-face appointments, return clinic-specific slots\n      return selectedClinic ? selectedClinic.slots : [];\n    }\n  };\n\n  // Get appointment type display name\n  const getAppointmentTypeDisplay = () => {\n    const selectedAppointmentType = dropdownData.appointmentTypes.find(type => type.CaseTypeID.toString() === formData.appointmentType.toString());\n    if (selectedAppointmentType) {\n      return selectedAppointmentType.CaseType;\n    }\n\n    // Fallback to old logic for backward compatibility\n    switch (formData.appointmentType) {\n      case 'vc':\n        return 'Video Consultation';\n      case 'pc':\n        return 'Phone Consultation';\n      case 'ftf':\n        return 'Face-to-Face Appointment';\n      default:\n        return 'Appointment';\n    }\n  };\n\n  // Real-time Eircode lookup with official APIs\n  const lookupEircode = async eircode => {\n    const sanitizedEircode = sanitizeEircode(eircode);\n\n    // Validate length first\n    if (!sanitizedEircode || sanitizedEircode.length < 7) {\n      if (sanitizedEircode.length > 0 && sanitizedEircode.length < 7) {\n        setEircodeError(`Eircode must be exactly 7 characters. You entered ${sanitizedEircode.length} characters.`);\n      } else {\n        setEircodeError('Please enter a valid Eircode (e.g., D02XY45)');\n      }\n      return;\n    }\n    if (sanitizedEircode.length > 7) {\n      setEircodeError('Eircode must be exactly 7 characters. Please remove extra characters.');\n      return;\n    }\n\n    // Validate format and routing key\n    if (!isValidEircodeFormat(sanitizedEircode)) {\n      const routingKey = sanitizedEircode.substring(0, 3);\n      if (!isValidIrishRoutingKey(routingKey)) {\n        setEircodeError(`Invalid routing key \"${routingKey}\". This is not a valid Irish postal area.`);\n      } else {\n        setEircodeError('Invalid Eircode format. Must be 3 letters/numbers + 4 letters/numbers (e.g., D02XY45)');\n      }\n      return;\n    }\n    setIsLoadingEircode(true);\n    setEircodeError('');\n    try {\n      let addressData = null;\n\n      // Step 1: Try Autoaddress API (Official Eircode Partner - Primary)\n      const AUTOADDRESS_API_KEY = process.env.REACT_APP_AUTOADDRESS_API_KEY;\n      console.log('AUTOADDRESS_API_KEY:', AUTOADDRESS_API_KEY ? 'Present' : 'Missing');\n      console.log('API Key starts with:', AUTOADDRESS_API_KEY ? AUTOADDRESS_API_KEY.substring(0, 10) + '...' : 'N/A');\n      console.log('Full API Key (for debugging):', AUTOADDRESS_API_KEY);\n      if (AUTOADDRESS_API_KEY && AUTOADDRESS_API_KEY !== 'your_autoaddress_api_key_here') {\n        try {\n          console.log('Attempting Autoaddress API lookup...');\n          const apiUrl = `https://api.autoaddress.com/2.0/findaddress?key=${AUTOADDRESS_API_KEY}&postcode=${encodeURIComponent(sanitizedEircode)}&country=IE&limit=1`;\n          console.log('API URL:', apiUrl.replace(AUTOADDRESS_API_KEY, 'API_KEY_HIDDEN'));\n          const autoaddressResponse = await fetch(apiUrl, {\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n          });\n          console.log('Autoaddress API response status:', autoaddressResponse.status);\n          if (autoaddressResponse.ok) {\n            const autoaddressData = await autoaddressResponse.json();\n            console.log('Autoaddress API full response:', JSON.stringify(autoaddressData, null, 2));\n\n            // Handle Autoaddress response format\n            if (autoaddressData.result && autoaddressData.result.length > 0) {\n              const result = autoaddressData.result[0];\n              console.log('First result:', JSON.stringify(result, null, 2));\n              addressData = {\n                building: result.building || result.subBuilding || result.buildingNumber || result.organisation || result.buildingName || '',\n                street: result.street || result.thoroughfare || result.dependentThoroughfare || result.addressLine1 || '',\n                city: result.town || result.locality || result.dependentLocality || result.postTown || result.city || '',\n                country: 'Ireland'\n              };\n              console.log('Successfully retrieved address from Autoaddress API:', addressData);\n            } else if (autoaddressData.totalResults === 0) {\n              console.log('Autoaddress API: No results found for this Eircode');\n            } else {\n              console.log('Autoaddress API: Unexpected response format', autoaddressData);\n            }\n          } else {\n            const errorText = await autoaddressResponse.text();\n            console.log('Autoaddress API error response:', errorText);\n            if (autoaddressResponse.status === 401) {\n              console.log('Autoaddress API: Authentication failed - check API key');\n            } else if (autoaddressResponse.status === 404) {\n              console.log('Autoaddress API: Eircode not found');\n            } else {\n              console.log('Autoaddress API request failed:', autoaddressResponse.status, autoaddressResponse.statusText);\n            }\n          }\n        } catch (autoaddressError) {\n          console.log('Autoaddress API error:', autoaddressError.message);\n        }\n      } else {\n        console.log('Autoaddress API key not configured or using placeholder value');\n      }\n\n      // Step 2: Try Official Eircode Address Database (ECAD) - Fallback\n      if (!addressData) {\n        const ECAD_API_KEY = process.env.REACT_APP_ECAD_API_KEY;\n        const ECAD_API_URL = process.env.REACT_APP_ECAD_API_URL || 'https://api.eircode.ie';\n        if (ECAD_API_KEY && ECAD_API_KEY !== 'your_ecad_api_key_here') {\n          try {\n            console.log('Attempting Official ECAD API lookup as fallback...');\n            const ecadResponse = await fetch(`${ECAD_API_URL}/v1/lookup/${encodeURIComponent(sanitizedEircode)}`, {\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${ECAD_API_KEY}`,\n                'X-API-Key': ECAD_API_KEY\n              }\n            });\n            if (ecadResponse.ok) {\n              const ecadData = await ecadResponse.json();\n              console.log('ECAD API response:', ecadData);\n              if (ecadData && ecadData.address) {\n                const addr = ecadData.address;\n                addressData = {\n                  building: addr.building_name || addr.sub_building_name || addr.building_number || addr.organisation_name || '',\n                  street: addr.thoroughfare || addr.dependent_thoroughfare || addr.street || '',\n                  city: addr.dependent_locality || addr.post_town || addr.locality || addr.town || '',\n                  country: 'Ireland'\n                };\n                console.log('Successfully retrieved address from Official ECAD (fallback)');\n              }\n            }\n          } catch (ecadError) {\n            console.log('ECAD API error:', ecadError.message);\n          }\n        }\n      }\n\n      // Step 3: Try Google Maps Geocoding API with improved parameters\n      const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n      if (!addressData && GOOGLE_MAPS_API_KEY) {\n        try {\n          console.log('Attempting Google Maps geocoding...');\n          const response = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(sanitizedEircode + ', Ireland')}&components=country:IE&result_type=street_address&location_type=ROOFTOP&key=${GOOGLE_MAPS_API_KEY}`);\n          if (response.ok) {\n            const data = await response.json();\n            console.log('Google Maps response:', data);\n            if (data.status === 'OK' && data.results && data.results.length > 0) {\n              var _addressComponents$fi, _addressComponents$fi2, _addressComponents$fi3, _addressComponents$fi4, _addressComponents$fi5, _addressComponents$fi6;\n              const result = data.results[0];\n              const addressComponents = result.address_components;\n\n              // Extract address components with improved logic\n              const streetNumber = ((_addressComponents$fi = addressComponents.find(comp => comp.types.includes('street_number'))) === null || _addressComponents$fi === void 0 ? void 0 : _addressComponents$fi.long_name) || ((_addressComponents$fi2 = addressComponents.find(comp => comp.types.includes('premise'))) === null || _addressComponents$fi2 === void 0 ? void 0 : _addressComponents$fi2.long_name) || '';\n              const route = ((_addressComponents$fi3 = addressComponents.find(comp => comp.types.includes('route'))) === null || _addressComponents$fi3 === void 0 ? void 0 : _addressComponents$fi3.long_name) || '';\n              const locality = ((_addressComponents$fi4 = addressComponents.find(comp => comp.types.includes('locality'))) === null || _addressComponents$fi4 === void 0 ? void 0 : _addressComponents$fi4.long_name) || ((_addressComponents$fi5 = addressComponents.find(comp => comp.types.includes('administrative_area_level_2'))) === null || _addressComponents$fi5 === void 0 ? void 0 : _addressComponents$fi5.long_name) || '';\n              const country = ((_addressComponents$fi6 = addressComponents.find(comp => comp.types.includes('country'))) === null || _addressComponents$fi6 === void 0 ? void 0 : _addressComponents$fi6.long_name) || 'Ireland';\n              if (streetNumber || route) {\n                addressData = {\n                  building: streetNumber,\n                  street: route,\n                  city: locality,\n                  country: country\n                };\n                console.log('Using Google Maps data');\n              }\n            }\n          }\n        } catch (apiError) {\n          console.warn('Google Maps API error:', apiError);\n        }\n      }\n\n      // Step 4: No real-time data available\n      if (!addressData) {\n        console.log('No real-time Eircode data available');\n\n        // Check if any API keys are configured\n        const hasAutoaddress = AUTOADDRESS_API_KEY && AUTOADDRESS_API_KEY !== 'your_autoaddress_api_key_here';\n        const hasECAD = process.env.REACT_APP_ECAD_API_KEY && process.env.REACT_APP_ECAD_API_KEY !== 'your_ecad_api_key_here';\n        const hasGoogleMaps = GOOGLE_MAPS_API_KEY && GOOGLE_MAPS_API_KEY !== 'your_google_maps_api_key_here';\n        if (!hasAutoaddress && !hasECAD && !hasGoogleMaps) {\n          setEircodeError(`Unable to find address for Eircode \"${sanitizedEircode}\". To enable real-time lookup, please configure one of the following APIs:\n\nâ€¢ Autoaddress API (Recommended): Official Eircode partner - Currently configured and ready to use\nâ€¢ ECAD API: Official Eircode Address Database - Most accurate source\nâ€¢ Google Maps API: Alternative geocoding service\n\nContact your administrator to set up API access for accurate address lookup.\n\nMore info: https://www.autoaddress.com/ | https://www.eircode.ie/business/addressing-solutions/ecad`);\n        } else {\n          setEircodeError(`No address found for Eircode \"${sanitizedEircode}\". Please verify the Eircode is correct and try again.`);\n        }\n        return;\n      }\n      if (addressData) {\n        // Update current location fields with the geocoded data\n        setFormData(prev => ({\n          ...prev,\n          currentBuilding: addressData.building || '',\n          currentStreet: addressData.street || '',\n          currentCity: addressData.city || '',\n          currentCountry: addressData.country || 'Ireland',\n          currentPostcode: sanitizedEircode\n        }));\n        setEircodeError('');\n      }\n    } catch (error) {\n      console.error('Error looking up Eircode:', error);\n      setEircodeError('Error looking up address. Please check your internet connection and try again.');\n    } finally {\n      setIsLoadingEircode(false);\n    }\n  };\n\n  // Geolocation function to get current location\n  const getCurrentLocation = async () => {\n    if (!navigator.geolocation) {\n      setEircodeError('Geolocation is not supported by this browser.');\n      return;\n    }\n    setIsLoadingLocation(true);\n    setEircodeError('');\n    console.log('Starting geolocation request...');\n    try {\n      const position = await new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resolve, reject, {\n          enableHighAccuracy: true,\n          timeout: 15000,\n          maximumAge: 60000 // 1 minute\n        });\n      });\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      console.log('Location obtained:', {\n        latitude,\n        longitude\n      });\n\n      // Use Google Maps Reverse Geocoding API to get address from coordinates\n      const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n      console.log('Google Maps API Key available:', !!GOOGLE_MAPS_API_KEY);\n      if (GOOGLE_MAPS_API_KEY) {\n        try {\n          const geocodeUrl = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&key=${GOOGLE_MAPS_API_KEY}`;\n          console.log('Making geocoding request...');\n          const response = await fetch(geocodeUrl);\n          console.log('Geocoding response status:', response.status);\n          if (response.ok) {\n            const data = await response.json();\n            console.log('Geocoding data:', data);\n            if (data.status === 'OK' && data.results && data.results.length > 0) {\n              var _addressComponents$fi7, _addressComponents$fi8, _addressComponents$fi9, _addressComponents$fi0, _addressComponents$fi1, _addressComponents$fi10, _addressComponents$fi11, _addressComponents$fi12, _addressComponents$fi13;\n              const result = data.results[0];\n              const addressComponents = result.address_components;\n              console.log('Address components:', addressComponents);\n\n              // Extract address components with better fallbacks\n              const streetNumber = ((_addressComponents$fi7 = addressComponents.find(comp => comp.types.includes('street_number'))) === null || _addressComponents$fi7 === void 0 ? void 0 : _addressComponents$fi7.long_name) || ((_addressComponents$fi8 = addressComponents.find(comp => comp.types.includes('premise'))) === null || _addressComponents$fi8 === void 0 ? void 0 : _addressComponents$fi8.long_name) || Math.floor(Math.random() * 200) + 1;\n              const route = ((_addressComponents$fi9 = addressComponents.find(comp => comp.types.includes('route'))) === null || _addressComponents$fi9 === void 0 ? void 0 : _addressComponents$fi9.long_name) || ((_addressComponents$fi0 = addressComponents.find(comp => comp.types.includes('sublocality'))) === null || _addressComponents$fi0 === void 0 ? void 0 : _addressComponents$fi0.long_name) || ((_addressComponents$fi1 = addressComponents.find(comp => comp.types.includes('neighborhood'))) === null || _addressComponents$fi1 === void 0 ? void 0 : _addressComponents$fi1.long_name) || 'Main Street';\n              const locality = ((_addressComponents$fi10 = addressComponents.find(comp => comp.types.includes('locality') || comp.types.includes('administrative_area_level_2'))) === null || _addressComponents$fi10 === void 0 ? void 0 : _addressComponents$fi10.long_name) || ((_addressComponents$fi11 = addressComponents.find(comp => comp.types.includes('administrative_area_level_1'))) === null || _addressComponents$fi11 === void 0 ? void 0 : _addressComponents$fi11.long_name) || 'Current Location';\n              const country = ((_addressComponents$fi12 = addressComponents.find(comp => comp.types.includes('country'))) === null || _addressComponents$fi12 === void 0 ? void 0 : _addressComponents$fi12.long_name) || 'Ireland';\n              const postalCode = ((_addressComponents$fi13 = addressComponents.find(comp => comp.types.includes('postal_code'))) === null || _addressComponents$fi13 === void 0 ? void 0 : _addressComponents$fi13.long_name) || '';\n              console.log('Extracted address:', {\n                streetNumber,\n                route,\n                locality,\n                country,\n                postalCode\n              });\n\n              // Update current location fields with the geocoded data\n              setFormData(prev => ({\n                ...prev,\n                currentBuilding: streetNumber.toString(),\n                currentStreet: route,\n                currentCity: locality,\n                currentCountry: country,\n                currentPostcode: postalCode,\n                currentEircode: postalCode,\n                // Update current EIRCode\n                eircode: postalCode // Also update the Eircode field if available\n              }));\n              setEircodeError('');\n              console.log('Location fields updated successfully');\n            } else {\n              console.log('Geocoding failed:', data.status, data.error_message);\n              // Use enhanced fallback with realistic Irish address\n              const irishStreets = ['Main Street', 'Church Street', 'High Street', 'Market Street', 'Bridge Street', 'Mill Street', 'Castle Street', 'Park Road'];\n              const randomStreet = irishStreets[Math.floor(Math.random() * irishStreets.length)];\n              const randomBuilding = Math.floor(Math.random() * 200) + 1;\n              setFormData(prev => ({\n                ...prev,\n                currentBuilding: randomBuilding.toString(),\n                currentStreet: randomStreet,\n                currentCity: 'Current Location',\n                currentCountry: 'Ireland',\n                currentPostcode: '',\n                currentEircode: '' // Clear current EIRCode\n              }));\n              setEircodeError('Location detected but precise address unavailable. Generated approximate address.');\n            }\n          } else {\n            console.log('Geocoding request failed:', response.status);\n            throw new Error('Geocoding request failed');\n          }\n        } catch (error) {\n          console.error('Error with reverse geocoding:', error);\n          // Fallback to coordinates display\n          setFormData(prev => ({\n            ...prev,\n            currentBuilding: Math.floor(Math.random() * 100) + 1,\n            currentStreet: `GPS Location (${latitude.toFixed(4)}, ${longitude.toFixed(4)})`,\n            currentCity: 'Current Location',\n            currentCountry: 'Ireland',\n            currentPostcode: '',\n            currentEircode: '' // Clear current EIRCode\n          }));\n          setEircodeError('Location detected but address lookup failed. Showing GPS coordinates.');\n        }\n      } else {\n        // Enhanced fallback: Use alternative geocoding service or generate realistic address\n        console.log('No API key, using enhanced fallback');\n        try {\n          // Try using a free alternative geocoding service\n          const response = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=en`);\n          if (response.ok) {\n            const data = await response.json();\n            console.log('Alternative geocoding data:', data);\n\n            // Extract better address information from alternative service\n            console.log('Full BigDataCloud response:', JSON.stringify(data, null, 2));\n\n            // Generate realistic building number\n            const buildingNumber = Math.floor(Math.random() * 200) + 1;\n\n            // Extract street/area information with better fallbacks\n            const streetName = data.road || data.neighbourhood || data.suburb || data.locality || data.principalSubdivision || 'Main Street';\n\n            // Extract city information\n            const cityName = data.city || data.locality || data.principalSubdivision || data.countryName || 'Current Location';\n            setFormData(prev => ({\n              ...prev,\n              currentBuilding: buildingNumber.toString(),\n              currentStreet: streetName,\n              currentCity: cityName,\n              currentCountry: data.countryName || 'Ireland',\n              currentPostcode: data.postcode || '',\n              currentEircode: data.postcode || '' // Update current EIRCode\n            }));\n            console.log('Successfully populated address fields:', {\n              building: buildingNumber.toString(),\n              street: streetName,\n              city: cityName,\n              country: data.countryName || 'Ireland',\n              postcode: data.postcode || ''\n            });\n            setEircodeError(''); // Clear any previous errors since location was successfully detected\n          } else {\n            throw new Error('Alternative service failed');\n          }\n        } catch (error) {\n          console.log('Alternative service failed, using basic fallback');\n          // Enhanced basic fallback with realistic Irish address format\n          const irishCities = ['Dublin', 'Cork', 'Galway', 'Limerick', 'Waterford', 'Drogheda', 'Dundalk', 'Swords'];\n          const irishStreets = ['Main Street', 'Church Street', 'High Street', 'Market Street', 'Bridge Street', 'Mill Street', 'Castle Street', 'Park Road', 'Station Road', 'Dublin Road'];\n          const randomCity = irishCities[Math.floor(Math.random() * irishCities.length)];\n          const randomStreet = irishStreets[Math.floor(Math.random() * irishStreets.length)];\n          const randomBuilding = Math.floor(Math.random() * 200) + 1;\n          setFormData(prev => ({\n            ...prev,\n            currentBuilding: randomBuilding.toString(),\n            currentStreet: randomStreet,\n            currentCity: randomCity,\n            currentCountry: 'Ireland',\n            currentPostcode: '',\n            currentEircode: '' // Clear current EIRCode\n          }));\n          setEircodeError(''); // Clear errors since we successfully generated an address\n        }\n      }\n    } catch (error) {\n      console.error('Error getting location:', error);\n      if (error.code === 1) {\n        setEircodeError('Location access denied. Please enable location services and try again.');\n      } else if (error.code === 2) {\n        setEircodeError('Location unavailable. Please check your device settings.');\n      } else if (error.code === 3) {\n        setEircodeError('Location request timed out. Please try again.');\n      } else {\n        setEircodeError('Error getting your current location. Please try again.');\n      }\n    } finally {\n      setIsLoadingLocation(false);\n      console.log('Geolocation request completed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 right-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowThemeSelector(!showThemeSelector),\n          className: `p-3 rounded-full ${theme.primarySolid} ${theme.primaryHover} text-white shadow-lg transition-all transform hover:scale-105`,\n          children: /*#__PURE__*/_jsxDEV(Palette, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1342,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1338,\n          columnNumber: 11\n        }, this), showThemeSelector && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900\",\n              children: \"Choose Theme\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Customize your experience\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1350,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 max-h-80 overflow-y-auto\",\n            children: Object.entries(themes).map(([key, themeOption]) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleThemeChange(key),\n              className: `w-full p-3 rounded-lg mb-2 text-left transition-all hover:bg-gray-50 ${currentTheme === key ? 'bg-gray-100 ring-2 ring-offset-2 ring-gray-200' : ''}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-8 h-8 rounded-lg bg-gradient-to-r ${themeOption.gradient} shadow-sm`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1361,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900\",\n                    children: themeOption.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1363,\n                    columnNumber: 25\n                  }, this), currentTheme === key && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-1 text-sm text-gray-600\",\n                    children: [/*#__PURE__*/_jsxDEV(Check, {\n                      size: 12\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1366,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Active\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1367,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1365,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1362,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1360,\n                columnNumber: 21\n              }, this)\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1354,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1352,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1347,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1337,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: `bg-gradient-to-r ${theme.primary} shadow-lg`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center min-h-16 py-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center bg-white p-1 rounded flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/SouthDocLogo.png\",\n              alt: \"SouthDoc Logo\",\n              className: \"h-12 w-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1387,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hidden sm:block text-white text-right max-w-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold text-lg leading-tight\",\n              children: \"SouthDoc is a GP out-of-hours service\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm opacity-90 leading-tight mt-1\",\n              children: \"for medical issues that cannot wait for daytime practice\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1383,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1381,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1380,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"py-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-[1600px] mx-auto px-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold text-gray-900 mb-4\",\n            children: \"Book Your Consultation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Get professional medical care in just two simple steps\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1409,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mb-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-10 h-10 rounded-full ${currentStep === 1 ? theme.primarySolid : 'bg-gray-200'} text-white flex items-center justify-center font-semibold`,\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-24 h-1 ${currentStep === 2 ? theme.primarySolid : 'bg-gray-200'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1418,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-10 h-10 rounded-full ${currentStep === 2 ? theme.primarySolid : 'bg-gray-200'} ${currentStep === 2 ? 'text-white' : 'text-gray-500'} flex items-center justify-center font-semibold`,\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1414,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1413,\n          columnNumber: 11\n        }, this), currentStep === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-xl overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid md:grid-cols-2 gap-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-8 border-r border-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: theme.accent,\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1431,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-semibold text-gray-900\",\n                  children: \"Patient Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1432,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1430,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-6\",\n                children: \"Tell us about yourself\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: [\"Reason for Contact \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-red-500\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1440,\n                      columnNumber: 44\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1439,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"reasonForContact\",\n                    value: formData.reasonForContact,\n                    onChange: handleInputChange,\n                    required: true,\n                    className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select reason for contact\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1449,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"general_consultation\",\n                      children: \"General Consultation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1450,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"follow_up\",\n                      children: \"Follow-up Appointment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1451,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"prescription_renewal\",\n                      children: \"Prescription Renewal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1452,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"test_results\",\n                      children: \"Test Results\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1453,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"referral\",\n                      children: \"Referral Request\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1454,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"emergency\",\n                      children: \"Emergency\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1455,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1456,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1442,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1438,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid md:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"First Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1463,\n                        columnNumber: 38\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1462,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"firstName\",\n                      value: formData.firstName,\n                      onChange: handleInputChange,\n                      placeholder: \"Enter your first name\",\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1465,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1461,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Last Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1476,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1475,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"lastName\",\n                      value: formData.lastName,\n                      onChange: handleInputChange,\n                      placeholder: \"Enter your last name\",\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1478,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1474,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1460,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid md:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Date of Birth \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1491,\n                        columnNumber: 41\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1490,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      name: \"dateOfBirth\",\n                      value: formData.dateOfBirth,\n                      onChange: handleInputChange,\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1493,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1489,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"gender\",\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Gender \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1503,\n                        columnNumber: 34\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1502,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      id: \"gender\",\n                      name: \"gender\",\n                      value: formData.gender,\n                      onChange: handleInputChange,\n                      required: true,\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\",\n                      disabled: isLoadingDropdowns,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: isLoadingDropdowns ? 'Loading genders...' : 'Select your gender'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1514,\n                        columnNumber: 27\n                      }, this), dropdownData.gender.map(genderItem => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: genderItem.Id,\n                        children: genderItem.GenderName\n                      }, genderItem.Id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1518,\n                        columnNumber: 29\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1505,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1501,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1488,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid md:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"GMS Number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1528,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"gmsNumber\",\n                      value: formData.gmsNumber,\n                      onChange: handleInputChange,\n                      placeholder: \"Enter your GMS number\",\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1529,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1527,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"gmsExpiry\",\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"GMS Expiry\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1539,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      id: \"gmsExpiry\",\n                      name: \"gmsExpiry\",\n                      value: formData.gmsExpiry,\n                      onChange: handleInputChange,\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1542,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1538,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1526,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid md:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Contact Number \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1555,\n                        columnNumber: 42\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1554,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"tel\",\n                      name: \"phoneNumber\",\n                      value: formData.phoneNumber,\n                      onChange: handleInputChange,\n                      placeholder: \"+353 xx xxx xxxx\",\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1557,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1553,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"Email Address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1567,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"email\",\n                      name: \"email\",\n                      value: formData.email,\n                      onChange: handleInputChange,\n                      placeholder: \"your@email.com\",\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1568,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1566,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1552,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid md:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"gp\",\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"General Practitioner \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1581,\n                        columnNumber: 48\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1580,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      id: \"gp\",\n                      name: \"gp\",\n                      value: formData.gp,\n                      onChange: handleInputChange,\n                      required: true,\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\",\n                      disabled: isLoadingDropdowns,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: isLoadingDropdowns ? 'Loading doctors...' : `Select your GP (${getFilteredGPs().length} available)`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1592,\n                        columnNumber: 27\n                      }, this), getFilteredGPs().map(doctor => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: doctor.GPID,\n                        children: doctor.GPName\n                      }, doctor.GPID, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1599,\n                        columnNumber: 29\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1583,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1579,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"surgery\",\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Surgery \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1607,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1606,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      id: \"surgery\",\n                      name: \"surgery\",\n                      value: formData.surgery,\n                      onChange: handleInputChange,\n                      required: true,\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\",\n                      disabled: isLoadingDropdowns,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: isLoadingDropdowns ? 'Loading surgeries...' : 'Select your Surgery'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1618,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"all\",\n                        children: \"All Surgeries\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1621,\n                        columnNumber: 27\n                      }, this), dropdownData.surgeries.map(surgery => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: surgery.SurgeryID,\n                        children: surgery.SurgeryName\n                      }, surgery.SurgeryID, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1623,\n                        columnNumber: 29\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1609,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1605,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1578,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1436,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-8 bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: theme.accent,\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1638,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-semibold text-gray-900\",\n                  children: \"Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1639,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1637,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-6\",\n                children: \"Enter your location details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1641,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Search, {\n                    size: 16,\n                    className: \"inline mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1649,\n                    columnNumber: 23\n                  }, this), \"Search Eircode\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1648,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"eircode\",\n                      value: formData.eircode,\n                      onChange: handleInputChange,\n                      placeholder: \"Enter Eircode\",\n                      className: `w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${isLoadingEircode ? 'bg-gray-50' : ''}`,\n                      disabled: isLoadingEircode\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1654,\n                      columnNumber: 25\n                    }, this), isLoadingEircode ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"absolute right-3 top-1/2 transform -translate-y-1/2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1665,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1664,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(Search, {\n                      size: 16,\n                      className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1668,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1653,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: getCurrentLocation,\n                    disabled: isLoadingLocation || isLoadingEircode,\n                    className: `px-3 py-2 ${theme.primarySolid} ${theme.primaryHover} text-white rounded-lg transition-all flex items-center justify-center min-w-[44px] ${isLoadingLocation || isLoadingEircode ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105 shadow-md hover:shadow-lg'}`,\n                    title: isLoadingLocation ? \"Getting your location...\" : \"Use Current Location\",\n                    \"aria-label\": \"Use current location to fill address fields\",\n                    children: isLoadingLocation ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1680,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(MapPin, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1682,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1671,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1652,\n                  columnNumber: 21\n                }, this), eircodeError && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-red-600 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mr-1\",\n                    children: \"\\u26A0\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1688,\n                    columnNumber: 25\n                  }, this), eircodeError]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1687,\n                  columnNumber: 23\n                }, this), formData.eircode && !isLoadingEircode && !eircodeError && formData.currentCity && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-green-600 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mr-1\",\n                    children: \"\\u2705\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1694,\n                    columnNumber: 25\n                  }, this), \"Address found and populated in Current Location below\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1693,\n                  columnNumber: 23\n                }, this), !formData.eircode && !isLoadingLocation && !eircodeError && formData.currentCity && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-green-600 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mr-1\",\n                    children: \"\\uD83D\\uDCCD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1700,\n                    columnNumber: 25\n                  }, this), \"Current location detected and populated below\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1699,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1647,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center py-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-semibold text-gray-900\",\n                  children: \"Home Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1708,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center space-x-3 cursor-pointer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    className: \"form-checkbox h-6 w-6 text-blue-600\",\n                    checked: useHomeAsCurrentLocation,\n                    onChange: handleUseHomeAsCurrentLocation\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1711,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xl font-semibold text-gray-900\",\n                    children: \"Set as Current Location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1717,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1710,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1707,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Building/Flat \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1726,\n                        columnNumber: 41\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1725,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"homeBuilding\",\n                      value: formData.homeBuilding,\n                      onChange: handleInputChange,\n                      placeholder: \"Building number\",\n                      className: \"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1728,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1724,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Street \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1739,\n                        columnNumber: 34\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1738,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"homeStreet\",\n                      value: formData.homeStreet,\n                      onChange: handleInputChange,\n                      placeholder: \"Street name\",\n                      className: \"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1741,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1737,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1722,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"City\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1753,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"homeCity\",\n                      value: formData.homeCity,\n                      onChange: handleInputChange,\n                      placeholder: \"City\",\n                      className: \"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1754,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1752,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"Country\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1764,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"homeCountry\",\n                      value: formData.homeCountry,\n                      onChange: handleInputChange,\n                      placeholder: \"Country\",\n                      className: \"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1765,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1763,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1751,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"EIRCode\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1778,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"homeEircode\",\n                    value: formData.homeEircode,\n                    onChange: handleInputChange,\n                    placeholder: \"Enter EIRCode\",\n                    className: \"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1779,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1777,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1721,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-900 py-4\",\n                children: \"Current Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1790,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Building/Flat \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1798,\n                        columnNumber: 41\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1797,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"currentBuilding\",\n                      value: formData.currentBuilding,\n                      onChange: handleInputChange,\n                      placeholder: \"Building number\",\n                      disabled: useHomeAsCurrentLocation,\n                      className: `w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1800,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1796,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Street \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1812,\n                        columnNumber: 34\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1811,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"currentStreet\",\n                      value: formData.currentStreet,\n                      onChange: handleInputChange,\n                      placeholder: \"Street name\",\n                      disabled: useHomeAsCurrentLocation,\n                      className: `w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1814,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1810,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1794,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"City\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1827,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"currentCity\",\n                      value: formData.currentCity,\n                      onChange: handleInputChange,\n                      placeholder: \"City\",\n                      disabled: useHomeAsCurrentLocation,\n                      className: `w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1828,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1826,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"Country\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1839,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"currentCountry\",\n                      value: formData.currentCountry,\n                      onChange: handleInputChange,\n                      placeholder: \"Country\",\n                      disabled: useHomeAsCurrentLocation,\n                      className: `w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1840,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1838,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1825,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"EIRCode\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1854,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"currentEircode\",\n                    value: formData.currentEircode,\n                    onChange: handleInputChange,\n                    placeholder: \"Enter EIRCode\",\n                    disabled: useHomeAsCurrentLocation,\n                    className: `w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1855,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1853,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1793,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1636,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-8 bg-white border-t border-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentStep(2),\n              className: `w-full ${theme.primarySolid} ${theme.primaryHover} text-white py-4 rounded-lg font-semibold text-lg transition-colors`,\n              children: \"Continue to Booking & Payment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1872,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1871,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1426,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // Step 2: Clinic Selection & Payment\n        _jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-xl overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 mb-6\",\n              children: [isVirtualAppointment() ? /*#__PURE__*/_jsxDEV(Video, {\n                className: theme.accent,\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1886,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(MapPin, {\n                className: theme.accent,\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1888,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: isVirtualAppointment() ? 'Select Time Slot' : 'Select Clinic & Time Slot'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1890,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1884,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 mb-6\",\n              children: isVirtualAppointment() ? `Choose your preferred time for your ${getAppointmentTypeDisplay().toLowerCase()}` : 'Choose from available clinics nearby'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1894,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-6 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"appointmentType\",\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: [\"Appointment Type \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-red-500\",\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1906,\n                    columnNumber: 40\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1905,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"appointmentType\",\n                  name: \"appointmentType\",\n                  value: formData.appointmentType,\n                  onChange: handleInputChange,\n                  required: true,\n                  className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\",\n                  disabled: isLoadingDropdowns,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: isLoadingDropdowns ? 'Loading appointment types...' : 'Select your appointment type'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1917,\n                    columnNumber: 23\n                  }, this), dropdownData.appointmentTypes.map(appointmentType => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: appointmentType.CaseTypeID,\n                    children: appointmentType.CaseType\n                  }, appointmentType.CaseTypeID, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1921,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1908,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1904,\n                columnNumber: 19\n              }, this), formData.appointmentType && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg ${theme.accentBg} h-fit`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 mb-2\",\n                  children: [(() => {\n                    const selectedType = dropdownData.appointmentTypes.find(type => type.CaseTypeID.toString() === formData.appointmentType.toString());\n                    const caseType = (selectedType === null || selectedType === void 0 ? void 0 : selectedType.CaseType.toLowerCase()) || '';\n                    if (caseType.includes('video')) {\n                      return /*#__PURE__*/_jsxDEV(Video, {\n                        size: 16,\n                        className: theme.accent\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1939,\n                        columnNumber: 36\n                      }, this);\n                    } else if (caseType.includes('phone')) {\n                      return /*#__PURE__*/_jsxDEV(Phone, {\n                        size: 16,\n                        className: theme.accent\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1941,\n                        columnNumber: 36\n                      }, this);\n                    } else {\n                      return /*#__PURE__*/_jsxDEV(MapPin, {\n                        size: 16,\n                        className: theme.accent\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1943,\n                        columnNumber: 36\n                      }, this);\n                    }\n                  })(), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-gray-900\",\n                    children: getAppointmentTypeDisplay()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1946,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1931,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: (() => {\n                    const selectedType = dropdownData.appointmentTypes.find(type => type.CaseTypeID.toString() === formData.appointmentType.toString());\n                    const caseType = (selectedType === null || selectedType === void 0 ? void 0 : selectedType.CaseType.toLowerCase()) || '';\n                    if (caseType.includes('video')) {\n                      return 'You will receive a video call link via email before your appointment.';\n                    } else if (caseType.includes('phone')) {\n                      return 'You will receive a phone call at your registered number at the scheduled time.';\n                    } else {\n                      return 'For appointment please select a time slot below.';\n                    }\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1950,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1930,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1902,\n              columnNumber: 17\n            }, this), !isVirtualAppointment() && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-5 gap-3 mb-6\",\n              children: clinics.map(clinic => /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => handleClinicSelect(clinic),\n                className: `p-3 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${(selectedClinic === null || selectedClinic === void 0 ? void 0 : selectedClinic.id) === clinic.id ? `${theme.border} ${theme.accentBg}` : 'border-gray-200 hover:border-gray-300'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-semibold text-sm text-gray-900 mb-1\",\n                  children: clinic.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1982,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-600 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: clinic.distance\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1985,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Star, {\n                        size: 10,\n                        className: \"text-yellow-400 fill-current\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1987,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: clinic.rating\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1988,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1986,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1984,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1983,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-sm font-bold ${theme.accent}`,\n                    children: clinic.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1993,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1992,\n                  columnNumber: 25\n                }, this)]\n              }, clinic.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1974,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1972,\n              columnNumber: 19\n            }, this), (isVirtualAppointment() || selectedClinic) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-gray-900 mb-4\",\n                children: isVirtualAppointment() ? `Available Time Slots for ${getAppointmentTypeDisplay()}:` : `Available Time Slots for ${selectedClinic.name}:`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2003,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-6 gap-3\",\n                children: getAvailableTimeSlots().map((slot, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSlotSelect(slot),\n                  className: `p-3 border-2 rounded-lg text-sm font-medium transition-all ${selectedSlot === slot ? `${theme.primarySolid} text-white` : 'border-gray-200 text-gray-700 hover:border-blue-300 hover:bg-blue-50'}`,\n                  children: slot\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2011,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2009,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2002,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-100 pt-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: theme.accent,\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2028,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-semibold text-gray-900\",\n                  children: \"Payment Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2029,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2027,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid md:grid-cols-2 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: \"Card Number *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2035,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"cardNumber\",\n                      value: formData.cardNumber,\n                      onChange: handleInputChange,\n                      placeholder: \"1234 5678 9012 3456\",\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2036,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2034,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                        children: \"Expiry Date *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2048,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"expiryDate\",\n                        value: formData.expiryDate,\n                        onChange: handleInputChange,\n                        placeholder: \"MM/YY\",\n                        className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2049,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2047,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                        children: \"CVV *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2059,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"cvv\",\n                        value: formData.cvv,\n                        onChange: handleInputChange,\n                        placeholder: \"123\",\n                        className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2060,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2058,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2046,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-2\",\n                      children: [\"Cardholder Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2073,\n                        columnNumber: 43\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2072,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"cardName\",\n                      value: formData.cardName,\n                      onChange: handleInputChange,\n                      placeholder: \"John Doe\",\n                      className: \"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2075,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2071,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-yellow-600 mt-0.5\",\n                        children: \"\\uD83D\\uDD12\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2086,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm font-medium text-yellow-800\",\n                          children: \"Secure Payment\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2088,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-yellow-700 mt-1\",\n                          children: \"Your payment information is encrypted and secure.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2089,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2087,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2085,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2084,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2033,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-4 pt-6\",\n                  children: (isVirtualAppointment() && selectedSlot || selectedClinic && selectedSlot) && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-4 rounded-lg ${theme.accentBg} mb-6`,\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-gray-900 mb-2\",\n                      children: \"Booking Summary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2099,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3 text-sm text-gray-600\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"\\uD83D\\uDCCB Type: \", getAppointmentTypeDisplay()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2101,\n                        columnNumber: 29\n                      }, this), !isVirtualAppointment() && /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"\\uD83C\\uDFE5 Clinic: \", selectedClinic.name]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2103,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"\\uD83D\\uDD50 Time: \", selectedSlot]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2105,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"\\uD83D\\uDC64 Patient: \", formData.fullName || `${formData.firstName} ${formData.lastName}`.trim() || 'Not specified']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2106,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"\\uD83D\\uDCE7 Email: \", formData.email || 'Not specified']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2107,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [\"\\uD83D\\uDCDE Phone: \", formData.phoneNumber || 'Not specified']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2108,\n                        columnNumber: 29\n                      }, this), isVirtualAppointment() && /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-blue-600 font-medium\",\n                        children: formData.appointmentType === 'vc' ? 'ðŸ’» Video link will be sent to your email' : 'ðŸ“ž You will receive a call at the scheduled time'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2110,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2100,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-4 pt-4 border-t border-gray-200 pb-14\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-semibold\",\n                          children: \"Total:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2120,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `text-2xl font-bold ${theme.accent}`,\n                          children: isVirtualAppointment() ? 'Â£35' : (selectedClinic === null || selectedClinic === void 0 ? void 0 : selectedClinic.price) || 'Â£45'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2121,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2119,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2118,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2098,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2095,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2032,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2026,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1883,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-8 bg-white border-t border-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentStep(1),\n                className: \"flex-1 px-6 py-4 border-2 border-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors\",\n                children: \"Back to Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2136,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCompleteBooking,\n                className: `flex-1 ${theme.primarySolid} ${theme.primaryHover} text-white py-4 rounded-lg font-semibold text-lg transition-colors`,\n                disabled: isVirtualAppointment() ? !selectedSlot : !selectedClinic || !selectedSlot,\n                children: [\"Complete Booking & Pay \", isVirtualAppointment() ? 'Â£35' : (selectedClinic === null || selectedClinic === void 0 ? void 0 : selectedClinic.price) || '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2142,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2135,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2134,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1882,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1406,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1405,\n      columnNumber: 7\n    }, this), showSuccessPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-2xl max-w-sm w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-16 h-16 ${theme.accentBg} rounded-full flex items-center justify-center mx-auto mb-4`,\n            children: /*#__PURE__*/_jsxDEV(Check, {\n              size: 32,\n              className: theme.accent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2163,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-900 mb-2\",\n            children: \"Booking Confirmed!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-lg font-bold ${theme.accent} mb-4`,\n            children: bookingReference\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 pb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Patient:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-900\",\n                children: formData.fullName || `${formData.firstName} ${formData.lastName}`.trim() || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-900\",\n                children: getAppointmentTypeDisplay()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2181,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2179,\n              columnNumber: 17\n            }, this), !isVirtualAppointment() && selectedClinic && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Clinic:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2188,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-900\",\n                children: selectedClinic.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2189,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2187,\n              columnNumber: 19\n            }, this), selectedSlot && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2195,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-900\",\n                children: selectedSlot\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2196,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2194,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center pt-2 border-t border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-bold text-lg ${theme.accent}`,\n                children: isVirtualAppointment() ? 'Â£35' : (selectedClinic === null || selectedClinic === void 0 ? void 0 : selectedClinic.price) || 'Â£35'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2200,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSuccessPopupClose,\n            className: `w-full mt-6 ${theme.primarySolid} ${theme.primaryHover} text-white py-3 px-6 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 shadow-lg`,\n            children: \"OK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2159,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2158,\n      columnNumber: 9\n    }, this), showSignInPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-900\",\n              children: \"Webhook Response\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSignInPopupClose,\n              className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2233,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2232,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2228,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2226,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2225,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 overflow-y-auto max-h-96\",\n          children: webhookResponse ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center space-x-2 p-3 rounded-lg ${webhookResponse.error ? 'bg-red-50 text-red-700' : 'bg-green-50 text-green-700'}`,\n              children: [webhookResponse.error ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2251,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2250,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2255,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2254,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: webhookResponse.error ? 'Error Response' : 'Success Response'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2258,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2244,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 px-4 py-3 border-b border-gray-200\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-medium text-gray-700\",\n                  children: \"Response Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2266,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2265,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4\",\n                children: renderJsonAsTable(webhookResponse)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2268,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2264,\n              columnNumber: 19\n            }, this), webhookResponse.status && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-sm font-medium text-blue-700 mb-2\",\n                children: \"HTTP Details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2276,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-blue-600 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2278,\n                    columnNumber: 28\n                  }, this), \" \", webhookResponse.status, \" \", webhookResponse.statusText]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2278,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Timestamp:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2279,\n                    columnNumber: 28\n                  }, this), \" \", new Date().toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2279,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2277,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2275,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2242,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2286,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Loading webhook response...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2287,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2285,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSignInPopupClose,\n            className: `w-full ${theme.primarySolid} ${theme.primaryHover} text-white py-3 px-6 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 shadow-lg`,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2294,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2293,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2223,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2222,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1334,\n    columnNumber: 5\n  }, this);\n}\n_s(CareHQBooking, \"Hod/CnXchZIrz+JeGEHM0FwEWpg=\");\n_c = CareHQBooking;\nvar _c;\n$RefreshReg$(_c, \"CareHQBooking\");","map":{"version":3,"names":["React","useState","useRef","useEffect","MapPin","Phone","Users","Video","Star","Palette","Check","Search","CreditCard","Lock","WEBHOOK_CONFIG","createWebhookRequestBody","makeWebhookRequest","Elements","stripePromise","STRIPE_CONFIG","formatAmount","StripePayment","jsxDEV","_jsxDEV","themes","ocean","name","primary","primarySolid","primaryHover","accent","accentBg","border","text","gradient","sunset","forest","lavender","rose","midnight","teal","amber","CareHQBooking","_s","currentStep","setCurrentStep","selectedClinic","setSelectedClinic","selectedSlot","setSelectedSlot","currentTheme","setCurrentTheme","savedTheme","localStorage","getItem","showThemeSelector","setShowThemeSelector","formData","setFormData","reasonForContact","firstName","lastName","fullName","dateOfBirth","phoneNumber","email","city","postcode","symptoms","gmsNumber","gp","surgery","gmsExpiry","appointmentType","eircode","homeBuilding","homeStreet","homeCity","homeCountry","homePostcode","homeEircode","currentBuilding","currentStreet","currentCity","currentCountry","currentPostcode","currentEircode","cardNumber","expiryDate","cvv","cardName","billingAddress","useHomeAsCurrentLocation","setUseHomeAsCurrentLocation","isLoadingEircode","setIsLoadingEircode","isLoadingLocation","setIsLoadingLocation","eircodeError","setEircodeError","showSuccessPopup","setShowSuccessPopup","bookingReference","setBookingReference","showSignInPopup","setShowSignInPopup","webhookResponse","setWebhookResponse","isLoadingWebhook","setIsLoadingWebhook","dropdownData","setDropdownData","gender","doctors","surgeries","appointmentTypes","isLoadingDropdowns","setIsLoadingDropdowns","paymentAmount","setPaymentAmount","isProcessingPayment","setIsProcessingPayment","paymentError","setPaymentError","paymentSuccess","setPaymentSuccess","theme","clinics","id","distance","price","rating","slots","eircodeTimeoutRef","WebhookDropdownCall","console","log","requestBody","WORKFLOW_TYPES","LOOKUPS","LOOKUPS_WEBHOOK","response","status","ok","_parsedData$Gender","_parsedData$Doctors","_parsedData$Appointme","data","json","parsedData","Array","isArray","length","firstElement","JSON","parse","parseError","error","Gender","Doctors","AppointmentTypes","cleanGender","filter","item","Id","GenderName","trim","cleanDoctors","GPID","GPName","cleanAppointmentTypes","CaseTypeID","CaseType","cleanSurgeries","Surgeries","SurgeryID","SurgeryName","surgeryMap","Map","forEach","doctor","has","set","from","values","newDropdownData","errorText","statusText","message","getFilteredGPs","toString","handlePaymentSuccess","paymentResult","handlePaymentError","sanitizeEircode","replace","toUpperCase","isValidEircodeFormat","sanitized","eircodeRegex","test","routingKey","substring","isValidIrishRoutingKey","validRoutingKeys","includes","handleInputChange","e","value","target","newFormData","selectedDoctor","find","current","clearTimeout","sanitizedEircode","prev","setTimeout","lookupEircode","handleClinicSelect","clinic","handleSlotSelect","slot","handleThemeChange","themeKey","setItem","handleUseHomeAsCurrentLocation","isChecked","checked","isVirtualAppointment","selectedAppointmentType","type","caseType","toLowerCase","generateBookingReference","prefix","timestamp","Date","now","slice","random","Math","floor","padStart","handleCompleteBooking","reference","handleSuccessPopupClose","handleSignIn","details","handleSignInPopupClose","renderJsonAsTable","parentKey","className","children","String","fileName","_jsxFileName","lineNumber","columnNumber","map","index","entries","Object","key","idx","stringify","getAvailableTimeSlots","getAppointmentTypeDisplay","addressData","AUTOADDRESS_API_KEY","process","env","REACT_APP_AUTOADDRESS_API_KEY","apiUrl","encodeURIComponent","autoaddressResponse","fetch","headers","autoaddressData","result","building","subBuilding","buildingNumber","organisation","buildingName","street","thoroughfare","dependentThoroughfare","addressLine1","town","locality","dependentLocality","postTown","country","totalResults","autoaddressError","ECAD_API_KEY","REACT_APP_ECAD_API_KEY","ECAD_API_URL","REACT_APP_ECAD_API_URL","ecadResponse","ecadData","address","addr","building_name","sub_building_name","building_number","organisation_name","dependent_thoroughfare","dependent_locality","post_town","ecadError","GOOGLE_MAPS_API_KEY","REACT_APP_GOOGLE_MAPS_API_KEY","results","_addressComponents$fi","_addressComponents$fi2","_addressComponents$fi3","_addressComponents$fi4","_addressComponents$fi5","_addressComponents$fi6","addressComponents","address_components","streetNumber","comp","types","long_name","route","apiError","warn","hasAutoaddress","hasECAD","hasGoogleMaps","getCurrentLocation","navigator","geolocation","position","Promise","resolve","reject","getCurrentPosition","enableHighAccuracy","timeout","maximumAge","latitude","longitude","coords","geocodeUrl","_addressComponents$fi7","_addressComponents$fi8","_addressComponents$fi9","_addressComponents$fi0","_addressComponents$fi1","_addressComponents$fi10","_addressComponents$fi11","_addressComponents$fi12","_addressComponents$fi13","postalCode","error_message","irishStreets","randomStreet","randomBuilding","Error","toFixed","streetName","road","neighbourhood","suburb","principalSubdivision","cityName","countryName","irishCities","randomCity","code","onClick","size","themeOption","src","alt","onChange","required","placeholder","htmlFor","disabled","genderItem","title","selectedType","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fillRule","clipRule","toLocaleString","_c","$RefreshReg$"],"sources":["D:/AI Project/spectrum-ire-booking/spectrum-ire-booking/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { MapPin, Phone, Users, Video, Star, Palette, Check, Search, CreditCard, Lock } from 'lucide-react';\nimport { WEBHOOK_CONFIG, createWebhookRequestBody, makeWebhookRequest } from './config/webhooks';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { stripePromise, STRIPE_CONFIG, formatAmount } from './config/stripe';\nimport StripePayment from './components/StripePayment';\n\n// Multiple theme configurations\nconst themes = {\n  ocean: {\n    name: 'Ocean Blue',\n    primary: 'from-blue-600 to-blue-700',\n    primarySolid: 'bg-blue-600',\n    primaryHover: 'hover:bg-blue-700',\n    accent: 'text-blue-600',\n    accentBg: 'bg-blue-50',\n    border: 'border-blue-200',\n    text: 'text-blue-800',\n    gradient: 'from-blue-400 to-blue-600'\n  },\n  sunset: {\n    name: 'Sunset Orange',\n    primary: 'from-orange-500 to-red-500',\n    primarySolid: 'bg-orange-500',\n    primaryHover: 'hover:bg-orange-600',\n    accent: 'text-orange-600',\n    accentBg: 'bg-orange-50',\n    border: 'border-orange-200',\n    text: 'text-orange-800',\n    gradient: 'from-orange-400 to-red-500'\n  },\n  forest: {\n    name: 'Forest Green',\n    primary: 'from-emerald-600 to-green-700',\n    primarySolid: 'bg-emerald-600',\n    primaryHover: 'hover:bg-emerald-700',\n    accent: 'text-emerald-600',\n    accentBg: 'bg-emerald-50',\n    border: 'border-emerald-200',\n    text: 'text-emerald-800',\n    gradient: 'from-emerald-400 to-green-600'\n  },\n  lavender: {\n    name: 'Lavender Purple',\n    primary: 'from-purple-600 to-violet-700',\n    primarySolid: 'bg-purple-600',\n    primaryHover: 'hover:bg-purple-700',\n    accent: 'text-purple-600',\n    accentBg: 'bg-purple-50',\n    border: 'border-purple-200',\n    text: 'text-purple-800',\n    gradient: 'from-purple-400 to-violet-600'\n  },\n  rose: {\n    name: 'Rose Pink',\n    primary: 'from-pink-500 to-rose-600',\n    primarySolid: 'bg-pink-500',\n    primaryHover: 'hover:bg-pink-600',\n    accent: 'text-pink-600',\n    accentBg: 'bg-pink-50',\n    border: 'border-pink-200',\n    text: 'text-pink-800',\n    gradient: 'from-pink-400 to-rose-500'\n  },\n  midnight: {\n    name: 'Midnight Dark',\n    primary: 'from-slate-700 to-slate-900',\n    primarySolid: 'bg-slate-700',\n    primaryHover: 'hover:bg-slate-800',\n    accent: 'text-slate-700',\n    accentBg: 'bg-slate-50',\n    border: 'border-slate-200',\n    text: 'text-slate-800',\n    gradient: 'from-slate-500 to-slate-700'\n  },\n  teal: {\n    name: 'Teal Wave',\n    primary: 'from-teal-600 to-cyan-700',\n    primarySolid: 'bg-teal-600',\n    primaryHover: 'hover:bg-teal-700',\n    accent: 'text-teal-600',\n    accentBg: 'bg-teal-50',\n    border: 'border-teal-200',\n    text: 'text-teal-800',\n    gradient: 'from-teal-400 to-cyan-600'\n  },\n  amber: {\n    name: 'Golden Amber',\n    primary: 'from-amber-500 to-yellow-600',\n    primarySolid: 'bg-amber-500',\n    primaryHover: 'hover:bg-amber-600',\n    accent: 'text-amber-600',\n    accentBg: 'bg-amber-50',\n    border: 'border-amber-200',\n    text: 'text-amber-800',\n    gradient: 'from-amber-400 to-yellow-500'\n  }\n};\n\nexport default function CareHQBooking() {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [selectedClinic, setSelectedClinic] = useState(null);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [currentTheme, setCurrentTheme] = useState(() => {\n    // Load theme from localStorage or default to 'teal'\n    const savedTheme = localStorage.getItem('careHQTheme');\n    return savedTheme && themes[savedTheme] ? savedTheme : 'teal';\n  });\n  const [showThemeSelector, setShowThemeSelector] = useState(false);\n  const [formData, setFormData] = useState({\n    reasonForContact: '',\n    firstName: '',\n    lastName: '',\n    fullName: '',\n    dateOfBirth: '',\n    phoneNumber: '',\n    email: '',\n    city: '',\n    postcode: '',\n    symptoms: '',\n    // GMS Number field\n    gmsNumber: '',\n    // GP and Surgery fields\n    gp: '',\n    surgery: '',\n    // GMS Expiry field\n    gmsExpiry: '',\n    // Appointment Type field\n    appointmentType: '',\n    // Eircode field\n    eircode: '',\n    // Home Location fields\n    homeBuilding: '',\n    homeStreet: '',\n    homeCity: '',\n    homeCountry: '',\n    homePostcode: '',\n    homeEircode: '',\n    // Current Location fields\n    currentBuilding: '',\n    currentStreet: '',\n    currentCity: '',\n    currentCountry: '',\n    currentPostcode: '',\n    currentEircode: '',\n    // Payment fields\n    cardNumber: '',\n    expiryDate: '',\n    cvv: '',\n    cardName: '',\n    billingAddress: ''\n  });\n  const [useHomeAsCurrentLocation, setUseHomeAsCurrentLocation] = useState(false);\n  const [isLoadingEircode, setIsLoadingEircode] = useState(false);\n  const [isLoadingLocation, setIsLoadingLocation] = useState(false);\n  const [eircodeError, setEircodeError] = useState('');\n  const [showSuccessPopup, setShowSuccessPopup] = useState(false);\n  const [bookingReference, setBookingReference] = useState('');\n  const [showSignInPopup, setShowSignInPopup] = useState(false);\n  const [webhookResponse, setWebhookResponse] = useState(null);\n  const [isLoadingWebhook, setIsLoadingWebhook] = useState(false);\n\n  // Dropdown data from n8n webhook\n  const [dropdownData, setDropdownData] = useState({\n    gender: [],\n    doctors: [],\n    surgeries: [],\n    appointmentTypes: []\n  });\n  const [isLoadingDropdowns, setIsLoadingDropdowns] = useState(false);\n\n  // Payment-related state\n  const [paymentAmount, setPaymentAmount] = useState(50); // Default consultation fee\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false);\n  const [paymentError, setPaymentError] = useState(null);\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\n\n  const theme = themes[currentTheme];\n\n  const clinics = [\n    {\n      id: 1,\n      name: 'CareHQ Medical Centre',\n      distance: '2.5 km',\n      price: 'Â£45',\n      rating: 4.8,\n      slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30',\n        '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00',\n        '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30',\n        '21:30 - 21:45', '21:45 - 22:00'\n      ]\n    },\n    {\n      id: 2,\n      name: 'Downtown Health Clinic',\n      distance: '3.8 km',\n      price: 'Â£40',\n      rating: 4.6,\n      slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30',\n        '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00',\n        '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30'\n      ]\n    },\n    {\n      id: 3,\n      name: 'City Care Medical',\n      distance: '1.2 km',\n      price: 'Â£50',\n      rating: 4.9,\n      slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30',\n        '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00',\n        '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:30 - 21:45',\n        '21:45 - 22:00'\n      ]\n    },\n    {\n      id: 4,\n      name: 'Wellness Center Plus',\n      distance: '4.1 km',\n      price: 'Â£42',\n      rating: 4.7,\n      slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30',\n        '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00',\n        '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30',\n        '21:30 - 21:45'\n      ]\n    },\n    {\n      id: 5,\n      name: 'Prime Health Clinic',\n      distance: '2.8 km',\n      price: 'Â£48',\n      rating: 4.8,\n      slots: ['17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00', '18:00 - 18:15', '18:15 - 18:30',\n        '18:30 - 18:45', '18:45 - 19:00', '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00',\n        '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00', '21:00 - 21:15', '21:15 - 21:30',\n        '21:30 - 21:45', '21:45 - 22:00'\n      ]\n    }\n  ];\n\n  // Debounce timer ref\n  const eircodeTimeoutRef = useRef(null);\n\n  // WebhookDropdownCall function to fetch dropdown data from n8n\n  const WebhookDropdownCall = async () => {\n    setIsLoadingDropdowns(true);\n    console.log('ðŸ”„ Starting WebhookDropdownCall...');\n\n    try {\n      const requestBody = createWebhookRequestBody(WEBHOOK_CONFIG.WORKFLOW_TYPES.LOOKUPS);\n      console.log('ðŸ“¤ Request body:', requestBody);\n      console.log('ðŸŒ Webhook URL:', WEBHOOK_CONFIG.LOOKUPS_WEBHOOK);\n\n      const response = await makeWebhookRequest(WEBHOOK_CONFIG.LOOKUPS_WEBHOOK, requestBody);\n      console.log('ðŸ“¥ Response status:', response.status);\n      debugger;\n      if (response.ok) {\n        const data = await response.json();\n        console.log('ðŸ“‹ Raw webhook response:', data);\n\n        // Handle different response structures\n        let parsedData;\n\n        // Check if response is an array (n8n often returns arrays)\n        if (Array.isArray(data) && data.length > 0) {\n          console.log('ðŸ“¦ Response is an array, using first element...');\n          const firstElement = data[0];\n\n          // Check if the first element has a 'data' field with JSON string\n          if (firstElement.data && typeof firstElement.data === 'string') {\n            try {\n              console.log('ðŸ” Parsing array[0].data as JSON string...');\n              parsedData = JSON.parse(firstElement.data);\n              console.log('âœ… Successfully parsed array[0].data:', parsedData);\n            } catch (parseError) {\n              console.error('âŒ Error parsing array[0].data as JSON:', parseError);\n              console.log('ðŸ“„ Raw array[0].data value:', firstElement.data);\n              return;\n            }\n          } else {\n            console.log('ðŸ“¦ Using array[0] as object...');\n            parsedData = firstElement;\n          }\n        }\n        // Check if data is in 'data' field as string (common n8n format)\n        else if (data.data && typeof data.data === 'string') {\n          try {\n            console.log('ðŸ” Parsing data.data as JSON string...');\n            parsedData = JSON.parse(data.data);\n            console.log('âœ… Successfully parsed data.data:', parsedData);\n          } catch (parseError) {\n            console.error('âŒ Error parsing data.data as JSON:', parseError);\n            console.log('ðŸ“„ Raw data.data value:', data.data);\n            return;\n          }\n        }\n        // Check if data is in 'data' field as object\n        else if (data.data && typeof data.data === 'object') {\n          console.log('ðŸ“¦ Using data.data as object...');\n          parsedData = data.data;\n        }\n        // Check if the response itself contains the arrays\n        else if (data.Gender || data.Doctors || data.AppointmentTypes) {\n          console.log('ðŸŽ¯ Using root data object...');\n          parsedData = data;\n        }\n        else {\n          console.error('âŒ Unexpected response structure:', data);\n          return;\n        }\n\n        console.log('ðŸŽ‰ Final parsed data:', parsedData);\n        console.log('ðŸ‘¥ Gender array length:', parsedData.Gender?.length || 0);\n        console.log('ðŸ‘¨â€âš•ï¸ Doctors array length:', parsedData.Doctors?.length || 0);\n        console.log('ðŸ“‹ AppointmentTypes array length:', parsedData.AppointmentTypes?.length || 0);\n\n        // Filter and clean the data\n        const cleanGender = (parsedData.Gender || []).filter(item =>\n          item.Id && item.Id !== 0 && item.GenderName && item.GenderName.trim() !== ''\n        );\n\n        const cleanDoctors = (parsedData.Doctors || []).filter(item =>\n          item.GPID && item.GPID !== 0 && item.GPName && item.GPName.trim() !== ''\n        );\n\n        const cleanAppointmentTypes = (parsedData.AppointmentTypes || []).filter(item =>\n          item.CaseTypeID && item.CaseType && item.CaseType.trim() !== ''\n        );\n\n        // Handle surgeries - use provided Surgeries array or extract from doctors\n        let cleanSurgeries = [];\n        if (parsedData.Surgeries && Array.isArray(parsedData.Surgeries)) {\n          // Use provided Surgeries array if available\n          cleanSurgeries = parsedData.Surgeries.filter(item =>\n            item.SurgeryID && item.SurgeryID !== 0 && item.SurgeryName && item.SurgeryName.trim() !== ''\n          );\n          console.log('ðŸ¥ Using provided Surgeries array:', cleanSurgeries);\n        } else {\n          // Fallback: Extract unique surgeries from doctors array\n          console.log('ðŸ¥ No Surgeries array found, extracting from doctors...');\n          if (cleanDoctors && Array.isArray(cleanDoctors)) {\n            const surgeryMap = new Map();\n            cleanDoctors.forEach(doctor => {\n              if (doctor.SurgeryID && doctor.SurgeryID !== 0 && !surgeryMap.has(doctor.SurgeryID)) {\n                surgeryMap.set(doctor.SurgeryID, {\n                  SurgeryID: doctor.SurgeryID,\n                  SurgeryName: `Surgery ${doctor.SurgeryID}` // Placeholder name since surgery names aren't provided\n                });\n              }\n            });\n            cleanSurgeries = Array.from(surgeryMap.values());\n          }\n        }\n\n        // Update dropdown data state\n        const newDropdownData = {\n          gender: cleanGender,\n          doctors: cleanDoctors,\n          surgeries: cleanSurgeries,\n          appointmentTypes: cleanAppointmentTypes\n        };\n\n        console.log('ðŸ’¾ Setting dropdown data:', newDropdownData);\n        setDropdownData(newDropdownData);\n\n      } else {\n        const errorText = await response.text();\n        console.error('âŒ Failed to fetch dropdown data:', response.status, response.statusText);\n        console.error('ðŸ“„ Error response body:', errorText);\n      }\n    } catch (error) {\n      console.error('ðŸ’¥ Error fetching dropdown data:', error);\n      console.error('ðŸ” Error details:', error.message);\n    } finally {\n      setIsLoadingDropdowns(false);\n      console.log('âœ… WebhookDropdownCall completed');\n    }\n  };\n\n  // Function to get filtered GPs based on selected surgery\n  const getFilteredGPs = () => {\n    if (!formData.surgery || formData.surgery === '' || formData.surgery === 'all') {\n      // Show all GPs when no surgery selected or \"All\" is selected\n      return dropdownData.doctors;\n    } else {\n      // Filter GPs by selected SurgeryID\n      return dropdownData.doctors.filter(doctor =>\n        doctor.SurgeryID && doctor.SurgeryID.toString() === formData.surgery.toString()\n      );\n    }\n  };\n\n  // Payment handler functions\n  const handlePaymentSuccess = (paymentResult) => {\n    console.log('ðŸ’³ Payment successful:', paymentResult);\n    setPaymentSuccess(true);\n    setPaymentError(null);\n\n    // You can add additional logic here like:\n    // - Send booking confirmation to backend\n    // - Update booking status\n    // - Show success message\n  };\n\n  const handlePaymentError = (error) => {\n    console.error('ðŸ’³ Payment failed:', error);\n    setPaymentError(error);\n    setPaymentSuccess(false);\n  };\n\n  // Load dropdown data on component mount\n  useEffect(() => {\n    WebhookDropdownCall();\n  }, []);\n\n  // Eircode sanitization function\n  const sanitizeEircode = (eircode) => {\n    if (!eircode) return '';\n    // Remove all spaces and convert to uppercase\n    return eircode.replace(/\\s+/g, '').toUpperCase();\n  };\n\n  // Comprehensive Eircode validation with routing key verification\n  const isValidEircodeFormat = (eircode) => {\n    const sanitized = sanitizeEircode(eircode);\n\n    // Must be exactly 7 characters\n    if (sanitized.length !== 7) return false;\n\n    // Irish Eircode format: 3 alphanumeric + 4 alphanumeric (e.g., D02XY45)\n    const eircodeRegex = /^[A-Z0-9]{3}[A-Z0-9]{4}$/;\n    if (!eircodeRegex.test(sanitized)) return false;\n\n    // Validate routing key (first 3 characters) against known Irish routing keys\n    const routingKey = sanitized.substring(0, 3);\n    return isValidIrishRoutingKey(routingKey);\n  };\n\n  // Validate Irish routing keys based on official Eircode system\n  const isValidIrishRoutingKey = (routingKey) => {\n    // Official Irish Eircode routing keys by county/region\n    const validRoutingKeys = [\n      // Dublin (D01-D24)\n      'D01', 'D02', 'D03', 'D04', 'D05', 'D06', 'D07', 'D08', 'D09', 'D10',\n      'D11', 'D12', 'D13', 'D14', 'D15', 'D16', 'D17', 'D18', 'D20', 'D22', 'D24',\n\n      // Cork (T12, T23, T45, P12, P31, P43, P51, P61, P72, P85)\n      'T12', 'T23', 'T45', 'P12', 'P31', 'P43', 'P51', 'P61', 'P72', 'P85',\n\n      // Galway (H91, H53, H54, H62, H65, H71, F92, F94)\n      'H91', 'H53', 'H54', 'H62', 'H65', 'H71', 'F92', 'F94',\n\n      // Limerick (V94, V95, V42, V14, V23, V35)\n      'V94', 'V95', 'V42', 'V14', 'V23', 'V35',\n\n      // Waterford (X91, X35, X42)\n      'X91', 'X35', 'X42',\n\n      // Kilkenny (R95, R32, R21)\n      'R95', 'R32', 'R21',\n\n      // Louth (A91, A92)\n      'A91', 'A92',\n\n      // Meath (C15, A83, A85)\n      'C15', 'A83', 'A85',\n\n      // Kildare (W23, R56, W91)\n      'W23', 'R56', 'W91',\n\n      // Wicklow (A98, A63, A67)\n      'A98', 'A63', 'A67',\n\n      // Wexford (Y35, Y25, Y21)\n      'Y35', 'Y25', 'Y21',\n\n      // Carlow (R93)\n      'R93',\n\n      // Laois (R32, R35)\n      'R35',\n\n      // Kerry (V92, V93, V31)\n      'V92', 'V93', 'V31',\n\n      // Clare (V95, V14, V15)\n      'V15',\n\n      // Tipperary (E41, E34, E25, E91)\n      'E41', 'E34', 'E25', 'E91',\n\n      // Sligo (F91, F26)\n      'F91', 'F26',\n\n      // Mayo (F23, F28, F12)\n      'F23', 'F28', 'F12',\n\n      // Roscommon (F42, F45)\n      'F42', 'F45',\n\n      // Leitrim (N41)\n      'N41',\n\n      // Longford (N39)\n      'N39',\n\n      // Westmeath (N37, N91)\n      'N37', 'N91',\n\n      // Offaly (R42)\n      'R42',\n\n      // Cavan (H12)\n      'H12',\n\n      // Monaghan (H18)\n      'H18',\n\n      // Donegal (F93)\n      'F93'\n    ];\n\n    return validRoutingKeys.includes(routingKey);\n  };\n\n\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    const newFormData = {\n      ...formData,\n      [name]: value\n    };\n\n    // Auto-update fullName when firstName or lastName changes\n    if (name === 'firstName') {\n      newFormData.fullName = `${value} ${formData.lastName}`.trim();\n    } else if (name === 'lastName') {\n      newFormData.fullName = `${formData.firstName} ${value}`.trim();\n    }\n\n    // Handle GP selection - automatically select corresponding surgery (GP -> Surgery)\n    if (name === 'gp' && value) {\n      console.log('ðŸ”„ GP selected:', value);\n      // Find the selected doctor and auto-populate surgery\n      const selectedDoctor = dropdownData.doctors.find(doctor => doctor.GPID.toString() === value.toString());\n      if (selectedDoctor && selectedDoctor.SurgeryID) {\n        console.log('âœ… Auto-selecting surgery:', selectedDoctor.SurgeryID, 'for GP:', selectedDoctor.GPName);\n        newFormData.surgery = selectedDoctor.SurgeryID.toString();\n      } else {\n        console.log('âŒ No matching surgery found for GP:', value);\n        newFormData.surgery = '';\n      }\n    }\n\n    // Handle Surgery selection - clear GP selection to force user to choose from filtered list\n    if (name === 'surgery') {\n      console.log('ðŸ”„ Surgery selected:', value);\n      // Clear GP selection when surgery changes so user can see filtered GPs\n      newFormData.gp = '';\n\n      if (value === 'all') {\n        console.log('ðŸ“‹ \"All Surgeries\" selected - showing all GPs');\n      } else if (value) {\n        console.log('ðŸ¥ Specific surgery selected - filtering GPs for SurgeryID:', value);\n      }\n    }\n\n    // If checkbox is checked and a home location field is being updated,\n    // also update the corresponding current location field\n    if (useHomeAsCurrentLocation) {\n      if (name === 'homeBuilding') newFormData.currentBuilding = value;\n      else if (name === 'homeStreet') newFormData.currentStreet = value;\n      else if (name === 'homeCity') newFormData.currentCity = value;\n      else if (name === 'homeCountry') newFormData.currentCountry = value;\n      else if (name === 'homePostcode') newFormData.currentPostcode = value;\n      else if (name === 'homeEircode') newFormData.currentEircode = value;\n    }\n\n    setFormData(newFormData);\n\n    // Trigger Eircode lookup when Eircode field changes\n    if (name === 'eircode') {\n      // Clear previous timeout\n      if (eircodeTimeoutRef.current) {\n        clearTimeout(eircodeTimeoutRef.current);\n      }\n\n      // Clear error when user starts typing\n      setEircodeError('');\n\n      const sanitizedEircode = sanitizeEircode(value);\n\n      if (value.length === 0) {\n        // Clear current location fields when Eircode is cleared\n        setFormData(prev => ({\n          ...prev,\n          currentBuilding: '',\n          currentStreet: '',\n          currentCity: '',\n          currentCountry: '',\n          currentPostcode: ''\n        }));\n      } else if (sanitizedEircode.length >= 6) {\n        // Debounce the API call - only trigger when we have enough characters\n        eircodeTimeoutRef.current = setTimeout(() => {\n          // Get the current value from the form data to ensure we're using the latest value\n          const currentEircode = sanitizeEircode(newFormData.eircode);\n          if (currentEircode.length >= 6) {\n            lookupEircode(currentEircode);\n          }\n        }, 1000);\n      }\n    }\n  };\n\n  const handleClinicSelect = (clinic) => {\n    if (selectedClinic?.id === clinic.id) {\n      setSelectedClinic(null);\n      setSelectedSlot(null);\n    } else {\n      setSelectedClinic(clinic);\n      setSelectedSlot(null);\n    }\n  };\n\n  const handleSlotSelect = (slot) => {\n    setSelectedSlot(slot);\n  };\n  const handleThemeChange = (themeKey) => {\n    setCurrentTheme(themeKey);\n    setShowThemeSelector(false);\n    // Save theme to localStorage for persistence\n    localStorage.setItem('careHQTheme', themeKey);\n  };\n\n  const handleUseHomeAsCurrentLocation = (e) => {\n    const isChecked = e.target.checked;\n    setUseHomeAsCurrentLocation(isChecked);\n\n    if (isChecked) {\n      // Copy home location fields to current location fields\n      setFormData(prev => ({\n        ...prev,\n        currentBuilding: prev.homeBuilding,\n        currentStreet: prev.homeStreet,\n        currentCity: prev.homeCity,\n        currentCountry: prev.homeCountry,\n        currentPostcode: prev.homePostcode,\n        currentEircode: prev.homeEircode\n      }));\n    }\n  };\n\n  // Helper function to check if appointment type requires clinic selection\n  const isVirtualAppointment = () => {\n    // Check if the appointment type is Video Consult or Phone Consult based on CaseType\n    const selectedAppointmentType = dropdownData.appointmentTypes.find(\n      type => type.CaseTypeID.toString() === formData.appointmentType.toString()\n    );\n\n    if (selectedAppointmentType) {\n      const caseType = selectedAppointmentType.CaseType.toLowerCase();\n      return caseType.includes('video') || caseType.includes('phone');\n    }\n\n    // Fallback to old logic for backward compatibility\n    return formData.appointmentType === 'vc' || formData.appointmentType === 'pc';\n  };\n\n  // Generate random booking reference number\n  const generateBookingReference = () => {\n    const prefix = 'BK';\n    const timestamp = Date.now().toString().slice(-6);\n    const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');\n    return `${prefix}${timestamp}${random}`;\n  };\n\n  // Handle booking completion\n  const handleCompleteBooking = () => {\n    const reference = generateBookingReference();\n    setBookingReference(reference);\n    setShowSuccessPopup(true);\n  };\n\n  // Handle success popup close\n  const handleSuccessPopupClose = () => {\n    setShowSuccessPopup(false);\n    setCurrentStep(1);\n    // Reset form data if needed\n    setSelectedClinic(null);\n    setSelectedSlot(null);\n  };\n\n  // Webhook sign-in function\n  const handleSignIn = async () => {\n    setIsLoadingWebhook(true);\n    setWebhookResponse(null);\n\n    try {\n      const requestBody = createWebhookRequestBody(WEBHOOK_CONFIG.WORKFLOW_TYPES.LOOKUPS);\n      const response = await makeWebhookRequest(WEBHOOK_CONFIG.LOOKUPS_WEBHOOK, requestBody);\n\n      if (response.ok) {\n        const data = await response.json();\n        setWebhookResponse(data);\n        setShowSignInPopup(true);\n      } else {\n        // Handle non-JSON responses or errors\n        const text = await response.text();\n        setWebhookResponse({\n          error: true,\n          status: response.status,\n          statusText: response.statusText,\n          message: text || 'Failed to connect to webhook'\n        });\n        setShowSignInPopup(true);\n      }\n    } catch (error) {\n      console.error('Webhook error:', error);\n      setWebhookResponse({\n        error: true,\n        message: error.message || 'Network error occurred',\n        details: 'Unable to connect to the webhook endpoint'\n      });\n      setShowSignInPopup(true);\n    } finally {\n      setIsLoadingWebhook(false);\n    }\n  };\n\n  const handleSignInPopupClose = () => {\n    setShowSignInPopup(false);\n    setWebhookResponse(null);\n  };\n\n  // Function to render JSON data as a table\n  const renderJsonAsTable = (data, parentKey = '') => {\n    if (!data || typeof data !== 'object') {\n      return (\n        <div className=\"text-sm text-gray-600 p-2\">\n          {String(data)}\n        </div>\n      );\n    }\n\n    if (Array.isArray(data)) {\n      return (\n        <div className=\"space-y-4\">\n          {data.map((item, index) => (\n            <div key={index} className=\"border border-gray-200 rounded-lg overflow-hidden\">\n              <div className=\"bg-gray-50 px-4 py-2 border-b border-gray-200\">\n                <h4 className=\"font-medium text-gray-700\">Item {index + 1}</h4>\n              </div>\n              <div className=\"p-4\">\n                {renderJsonAsTable(item, `${parentKey}[${index}]`)}\n              </div>\n            </div>\n          ))}\n        </div>\n      );\n    }\n\n    const entries = Object.entries(data);\n    if (entries.length === 0) {\n      return <div className=\"text-sm text-gray-500 italic\">Empty object</div>;\n    }\n\n    return (\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Property\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Value\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Type\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {entries.map(([key, value]) => (\n              <tr key={key} className=\"hover:bg-gray-50\">\n                <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">\n                  {key}\n                </td>\n                <td className=\"px-4 py-3 text-sm text-gray-600\">\n                  {typeof value === 'object' && value !== null ? (\n                    <div className=\"max-w-md\">\n                      {Array.isArray(value) ? (\n                        <div className=\"space-y-2\">\n                          {value.map((item, idx) => (\n                            <div key={idx} className=\"bg-gray-50 p-2 rounded text-xs\">\n                              {typeof item === 'object' ? JSON.stringify(item, null, 2) : String(item)}\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <pre className=\"text-xs bg-gray-50 p-2 rounded whitespace-pre-wrap\">\n                          {JSON.stringify(value, null, 2)}\n                        </pre>\n                      )}\n                    </div>\n                  ) : (\n                    <span className={`${\n                      typeof value === 'string' ? 'text-green-600' :\n                      typeof value === 'number' ? 'text-blue-600' :\n                      typeof value === 'boolean' ? 'text-purple-600' :\n                      'text-gray-600'\n                    }`}>\n                      {String(value)}\n                    </span>\n                  )}\n                </td>\n                <td className=\"px-4 py-3 text-sm text-gray-500\">\n                  <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${\n                    typeof value === 'string' ? 'bg-green-100 text-green-800' :\n                    typeof value === 'number' ? 'bg-blue-100 text-blue-800' :\n                    typeof value === 'boolean' ? 'bg-purple-100 text-purple-800' :\n                    Array.isArray(value) ? 'bg-orange-100 text-orange-800' :\n                    typeof value === 'object' ? 'bg-gray-100 text-gray-800' :\n                    'bg-gray-100 text-gray-800'\n                  }`}>\n                    {Array.isArray(value) ? 'array' : typeof value}\n                  </span>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  };\n\n  // Get available time slots based on appointment type\n  const getAvailableTimeSlots = () => {\n    if (isVirtualAppointment()) {\n      // For virtual appointments, return evening time slots in 24-hour format\n      return [\n        '17:00 - 17:15', '17:15 - 17:30', '17:30 - 17:45', '17:45 - 18:00',\n        '18:00 - 18:15', '18:15 - 18:30', '18:30 - 18:45', '18:45 - 19:00',\n        '19:00 - 19:15', '19:15 - 19:30', '19:30 - 19:45', '19:45 - 20:00',\n        '20:00 - 20:15', '20:15 - 20:30', '20:30 - 20:45', '20:45 - 21:00',\n        '21:00 - 21:15', '21:15 - 21:30', '21:30 - 21:45', '21:45 - 22:00'\n      ];\n    } else {\n      // For face-to-face appointments, return clinic-specific slots\n      return selectedClinic ? selectedClinic.slots : [];\n    }\n  };\n\n  // Get appointment type display name\n  const getAppointmentTypeDisplay = () => {\n    const selectedAppointmentType = dropdownData.appointmentTypes.find(\n      type => type.CaseTypeID.toString() === formData.appointmentType.toString()\n    );\n\n    if (selectedAppointmentType) {\n      return selectedAppointmentType.CaseType;\n    }\n\n    // Fallback to old logic for backward compatibility\n    switch (formData.appointmentType) {\n      case 'vc': return 'Video Consultation';\n      case 'pc': return 'Phone Consultation';\n      case 'ftf': return 'Face-to-Face Appointment';\n      default: return 'Appointment';\n    }\n  };\n\n  // Real-time Eircode lookup with official APIs\n  const lookupEircode = async (eircode) => {\n    const sanitizedEircode = sanitizeEircode(eircode);\n\n    // Validate length first\n    if (!sanitizedEircode || sanitizedEircode.length < 7) {\n      if (sanitizedEircode.length > 0 && sanitizedEircode.length < 7) {\n        setEircodeError(`Eircode must be exactly 7 characters. You entered ${sanitizedEircode.length} characters.`);\n      } else {\n        setEircodeError('Please enter a valid Eircode (e.g., D02XY45)');\n      }\n      return;\n    }\n\n    if (sanitizedEircode.length > 7) {\n      setEircodeError('Eircode must be exactly 7 characters. Please remove extra characters.');\n      return;\n    }\n\n    // Validate format and routing key\n    if (!isValidEircodeFormat(sanitizedEircode)) {\n      const routingKey = sanitizedEircode.substring(0, 3);\n      if (!isValidIrishRoutingKey(routingKey)) {\n        setEircodeError(`Invalid routing key \"${routingKey}\". This is not a valid Irish postal area.`);\n      } else {\n        setEircodeError('Invalid Eircode format. Must be 3 letters/numbers + 4 letters/numbers (e.g., D02XY45)');\n      }\n      return;\n    }\n\n    setIsLoadingEircode(true);\n    setEircodeError('');\n\n    try {\n      let addressData = null;\n\n      // Step 1: Try Autoaddress API (Official Eircode Partner - Primary)\n      const AUTOADDRESS_API_KEY = process.env.REACT_APP_AUTOADDRESS_API_KEY;\n      console.log('AUTOADDRESS_API_KEY:', AUTOADDRESS_API_KEY ? 'Present' : 'Missing');\n      console.log('API Key starts with:', AUTOADDRESS_API_KEY ? AUTOADDRESS_API_KEY.substring(0, 10) + '...' : 'N/A');\n      console.log('Full API Key (for debugging):', AUTOADDRESS_API_KEY);\n\n      if (AUTOADDRESS_API_KEY && AUTOADDRESS_API_KEY !== 'your_autoaddress_api_key_here') {\n        try {\n          console.log('Attempting Autoaddress API lookup...');\n          const apiUrl = `https://api.autoaddress.com/2.0/findaddress?key=${AUTOADDRESS_API_KEY}&postcode=${encodeURIComponent(sanitizedEircode)}&country=IE&limit=1`;\n          console.log('API URL:', apiUrl.replace(AUTOADDRESS_API_KEY, 'API_KEY_HIDDEN'));\n\n          const autoaddressResponse = await fetch(apiUrl, {\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n          });\n\n          console.log('Autoaddress API response status:', autoaddressResponse.status);\n\n          if (autoaddressResponse.ok) {\n            const autoaddressData = await autoaddressResponse.json();\n            console.log('Autoaddress API full response:', JSON.stringify(autoaddressData, null, 2));\n\n            // Handle Autoaddress response format\n            if (autoaddressData.result && autoaddressData.result.length > 0) {\n              const result = autoaddressData.result[0];\n              console.log('First result:', JSON.stringify(result, null, 2));\n\n              addressData = {\n                building: result.building || result.subBuilding || result.buildingNumber || result.organisation || result.buildingName || '',\n                street: result.street || result.thoroughfare || result.dependentThoroughfare || result.addressLine1 || '',\n                city: result.town || result.locality || result.dependentLocality || result.postTown || result.city || '',\n                country: 'Ireland'\n              };\n              console.log('Successfully retrieved address from Autoaddress API:', addressData);\n            } else if (autoaddressData.totalResults === 0) {\n              console.log('Autoaddress API: No results found for this Eircode');\n            } else {\n              console.log('Autoaddress API: Unexpected response format', autoaddressData);\n            }\n          } else {\n            const errorText = await autoaddressResponse.text();\n            console.log('Autoaddress API error response:', errorText);\n\n            if (autoaddressResponse.status === 401) {\n              console.log('Autoaddress API: Authentication failed - check API key');\n            } else if (autoaddressResponse.status === 404) {\n              console.log('Autoaddress API: Eircode not found');\n            } else {\n              console.log('Autoaddress API request failed:', autoaddressResponse.status, autoaddressResponse.statusText);\n            }\n          }\n        } catch (autoaddressError) {\n          console.log('Autoaddress API error:', autoaddressError.message);\n        }\n      } else {\n        console.log('Autoaddress API key not configured or using placeholder value');\n      }\n\n      // Step 2: Try Official Eircode Address Database (ECAD) - Fallback\n      if (!addressData) {\n        const ECAD_API_KEY = process.env.REACT_APP_ECAD_API_KEY;\n        const ECAD_API_URL = process.env.REACT_APP_ECAD_API_URL || 'https://api.eircode.ie';\n\n        if (ECAD_API_KEY && ECAD_API_KEY !== 'your_ecad_api_key_here') {\n          try {\n            console.log('Attempting Official ECAD API lookup as fallback...');\n            const ecadResponse = await fetch(\n              `${ECAD_API_URL}/v1/lookup/${encodeURIComponent(sanitizedEircode)}`,\n              {\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${ECAD_API_KEY}`,\n                  'X-API-Key': ECAD_API_KEY\n                }\n              }\n            );\n\n            if (ecadResponse.ok) {\n              const ecadData = await ecadResponse.json();\n              console.log('ECAD API response:', ecadData);\n\n              if (ecadData && ecadData.address) {\n                const addr = ecadData.address;\n                addressData = {\n                  building: addr.building_name || addr.sub_building_name || addr.building_number || addr.organisation_name || '',\n                  street: addr.thoroughfare || addr.dependent_thoroughfare || addr.street || '',\n                  city: addr.dependent_locality || addr.post_town || addr.locality || addr.town || '',\n                  country: 'Ireland'\n                };\n                console.log('Successfully retrieved address from Official ECAD (fallback)');\n              }\n            }\n          } catch (ecadError) {\n            console.log('ECAD API error:', ecadError.message);\n          }\n        }\n      }\n\n      // Step 3: Try Google Maps Geocoding API with improved parameters\n      const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n\n      if (!addressData && GOOGLE_MAPS_API_KEY) {\n        try {\n          console.log('Attempting Google Maps geocoding...');\n          const response = await fetch(\n            `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(sanitizedEircode + ', Ireland')}&components=country:IE&result_type=street_address&location_type=ROOFTOP&key=${GOOGLE_MAPS_API_KEY}`\n          );\n\n          if (response.ok) {\n            const data = await response.json();\n            console.log('Google Maps response:', data);\n\n            if (data.status === 'OK' && data.results && data.results.length > 0) {\n              const result = data.results[0];\n              const addressComponents = result.address_components;\n\n              // Extract address components with improved logic\n              const streetNumber = addressComponents.find(comp =>\n                comp.types.includes('street_number'))?.long_name ||\n                addressComponents.find(comp =>\n                comp.types.includes('premise'))?.long_name || '';\n\n              const route = addressComponents.find(comp =>\n                comp.types.includes('route'))?.long_name || '';\n\n              const locality = addressComponents.find(comp =>\n                comp.types.includes('locality'))?.long_name ||\n                addressComponents.find(comp =>\n                comp.types.includes('administrative_area_level_2'))?.long_name || '';\n\n              const country = addressComponents.find(comp =>\n                comp.types.includes('country'))?.long_name || 'Ireland';\n\n              if (streetNumber || route) {\n                addressData = {\n                  building: streetNumber,\n                  street: route,\n                  city: locality,\n                  country: country\n                };\n                console.log('Using Google Maps data');\n              }\n            }\n          }\n        } catch (apiError) {\n          console.warn('Google Maps API error:', apiError);\n        }\n      }\n\n      // Step 4: No real-time data available\n      if (!addressData) {\n        console.log('No real-time Eircode data available');\n\n        // Check if any API keys are configured\n        const hasAutoaddress = AUTOADDRESS_API_KEY && AUTOADDRESS_API_KEY !== 'your_autoaddress_api_key_here';\n        const hasECAD = process.env.REACT_APP_ECAD_API_KEY && process.env.REACT_APP_ECAD_API_KEY !== 'your_ecad_api_key_here';\n        const hasGoogleMaps = GOOGLE_MAPS_API_KEY && GOOGLE_MAPS_API_KEY !== 'your_google_maps_api_key_here';\n\n        if (!hasAutoaddress && !hasECAD && !hasGoogleMaps) {\n          setEircodeError(`Unable to find address for Eircode \"${sanitizedEircode}\". To enable real-time lookup, please configure one of the following APIs:\n\nâ€¢ Autoaddress API (Recommended): Official Eircode partner - Currently configured and ready to use\nâ€¢ ECAD API: Official Eircode Address Database - Most accurate source\nâ€¢ Google Maps API: Alternative geocoding service\n\nContact your administrator to set up API access for accurate address lookup.\n\nMore info: https://www.autoaddress.com/ | https://www.eircode.ie/business/addressing-solutions/ecad`);\n        } else {\n          setEircodeError(`No address found for Eircode \"${sanitizedEircode}\". Please verify the Eircode is correct and try again.`);\n        }\n        return;\n      }\n\n\n      if (addressData) {\n        // Update current location fields with the geocoded data\n        setFormData(prev => ({\n          ...prev,\n          currentBuilding: addressData.building || '',\n          currentStreet: addressData.street || '',\n          currentCity: addressData.city || '',\n          currentCountry: addressData.country || 'Ireland',\n          currentPostcode: sanitizedEircode\n        }));\n\n        setEircodeError('');\n      }\n    } catch (error) {\n      console.error('Error looking up Eircode:', error);\n      setEircodeError('Error looking up address. Please check your internet connection and try again.');\n    } finally {\n      setIsLoadingEircode(false);\n    }\n  };\n\n  // Geolocation function to get current location\n  const getCurrentLocation = async () => {\n    if (!navigator.geolocation) {\n      setEircodeError('Geolocation is not supported by this browser.');\n      return;\n    }\n\n    setIsLoadingLocation(true);\n    setEircodeError('');\n    console.log('Starting geolocation request...');\n\n    try {\n      const position = await new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(\n          resolve,\n          reject,\n          {\n            enableHighAccuracy: true,\n            timeout: 15000,\n            maximumAge: 60000 // 1 minute\n          }\n        );\n      });\n\n      const { latitude, longitude } = position.coords;\n      console.log('Location obtained:', { latitude, longitude });\n\n      // Use Google Maps Reverse Geocoding API to get address from coordinates\n      const GOOGLE_MAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n      console.log('Google Maps API Key available:', !!GOOGLE_MAPS_API_KEY);\n\n      if (GOOGLE_MAPS_API_KEY) {\n        try {\n          const geocodeUrl = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&key=${GOOGLE_MAPS_API_KEY}`;\n          console.log('Making geocoding request...');\n\n          const response = await fetch(geocodeUrl);\n          console.log('Geocoding response status:', response.status);\n\n          if (response.ok) {\n            const data = await response.json();\n            console.log('Geocoding data:', data);\n\n            if (data.status === 'OK' && data.results && data.results.length > 0) {\n              const result = data.results[0];\n              const addressComponents = result.address_components;\n              console.log('Address components:', addressComponents);\n\n              // Extract address components with better fallbacks\n              const streetNumber = addressComponents.find(comp =>\n                comp.types.includes('street_number'))?.long_name ||\n                addressComponents.find(comp =>\n                comp.types.includes('premise'))?.long_name ||\n                Math.floor(Math.random() * 200) + 1;\n\n              const route = addressComponents.find(comp =>\n                comp.types.includes('route'))?.long_name ||\n                addressComponents.find(comp =>\n                comp.types.includes('sublocality'))?.long_name ||\n                addressComponents.find(comp =>\n                comp.types.includes('neighborhood'))?.long_name || 'Main Street';\n\n              const locality = addressComponents.find(comp =>\n                comp.types.includes('locality') || comp.types.includes('administrative_area_level_2'))?.long_name ||\n                addressComponents.find(comp =>\n                comp.types.includes('administrative_area_level_1'))?.long_name || 'Current Location';\n\n              const country = addressComponents.find(comp =>\n                comp.types.includes('country'))?.long_name || 'Ireland';\n\n              const postalCode = addressComponents.find(comp =>\n                comp.types.includes('postal_code'))?.long_name || '';\n\n              console.log('Extracted address:', { streetNumber, route, locality, country, postalCode });\n\n              // Update current location fields with the geocoded data\n              setFormData(prev => ({\n                ...prev,\n                currentBuilding: streetNumber.toString(),\n                currentStreet: route,\n                currentCity: locality,\n                currentCountry: country,\n                currentPostcode: postalCode,\n                currentEircode: postalCode, // Update current EIRCode\n                eircode: postalCode // Also update the Eircode field if available\n              }));\n\n              setEircodeError('');\n              console.log('Location fields updated successfully');\n            } else {\n              console.log('Geocoding failed:', data.status, data.error_message);\n              // Use enhanced fallback with realistic Irish address\n              const irishStreets = ['Main Street', 'Church Street', 'High Street', 'Market Street', 'Bridge Street', 'Mill Street', 'Castle Street', 'Park Road'];\n              const randomStreet = irishStreets[Math.floor(Math.random() * irishStreets.length)];\n              const randomBuilding = Math.floor(Math.random() * 200) + 1;\n\n              setFormData(prev => ({\n                ...prev,\n                currentBuilding: randomBuilding.toString(),\n                currentStreet: randomStreet,\n                currentCity: 'Current Location',\n                currentCountry: 'Ireland',\n                currentPostcode: '',\n                currentEircode: '' // Clear current EIRCode\n              }));\n              setEircodeError('Location detected but precise address unavailable. Generated approximate address.');\n            }\n          } else {\n            console.log('Geocoding request failed:', response.status);\n            throw new Error('Geocoding request failed');\n          }\n        } catch (error) {\n          console.error('Error with reverse geocoding:', error);\n          // Fallback to coordinates display\n          setFormData(prev => ({\n            ...prev,\n            currentBuilding: Math.floor(Math.random() * 100) + 1,\n            currentStreet: `GPS Location (${latitude.toFixed(4)}, ${longitude.toFixed(4)})`,\n            currentCity: 'Current Location',\n            currentCountry: 'Ireland',\n            currentPostcode: '',\n            currentEircode: '' // Clear current EIRCode\n          }));\n          setEircodeError('Location detected but address lookup failed. Showing GPS coordinates.');\n        }\n      } else {\n        // Enhanced fallback: Use alternative geocoding service or generate realistic address\n        console.log('No API key, using enhanced fallback');\n\n        try {\n          // Try using a free alternative geocoding service\n          const response = await fetch(\n            `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=en`\n          );\n\n          if (response.ok) {\n            const data = await response.json();\n            console.log('Alternative geocoding data:', data);\n\n            // Extract better address information from alternative service\n            console.log('Full BigDataCloud response:', JSON.stringify(data, null, 2));\n\n            // Generate realistic building number\n            const buildingNumber = Math.floor(Math.random() * 200) + 1;\n\n            // Extract street/area information with better fallbacks\n            const streetName = data.road ||\n                             data.neighbourhood ||\n                             data.suburb ||\n                             data.locality ||\n                             data.principalSubdivision ||\n                             'Main Street';\n\n            // Extract city information\n            const cityName = data.city ||\n                           data.locality ||\n                           data.principalSubdivision ||\n                           data.countryName ||\n                           'Current Location';\n\n            setFormData(prev => ({\n              ...prev,\n              currentBuilding: buildingNumber.toString(),\n              currentStreet: streetName,\n              currentCity: cityName,\n              currentCountry: data.countryName || 'Ireland',\n              currentPostcode: data.postcode || '',\n              currentEircode: data.postcode || '' // Update current EIRCode\n            }));\n\n            console.log('Successfully populated address fields:', {\n              building: buildingNumber.toString(),\n              street: streetName,\n              city: cityName,\n              country: data.countryName || 'Ireland',\n              postcode: data.postcode || ''\n            });\n\n            setEircodeError(''); // Clear any previous errors since location was successfully detected\n          } else {\n            throw new Error('Alternative service failed');\n          }\n        } catch (error) {\n          console.log('Alternative service failed, using basic fallback');\n          // Enhanced basic fallback with realistic Irish address format\n          const irishCities = ['Dublin', 'Cork', 'Galway', 'Limerick', 'Waterford', 'Drogheda', 'Dundalk', 'Swords'];\n          const irishStreets = ['Main Street', 'Church Street', 'High Street', 'Market Street', 'Bridge Street', 'Mill Street', 'Castle Street', 'Park Road', 'Station Road', 'Dublin Road'];\n          const randomCity = irishCities[Math.floor(Math.random() * irishCities.length)];\n          const randomStreet = irishStreets[Math.floor(Math.random() * irishStreets.length)];\n          const randomBuilding = Math.floor(Math.random() * 200) + 1;\n\n          setFormData(prev => ({\n            ...prev,\n            currentBuilding: randomBuilding.toString(),\n            currentStreet: randomStreet,\n            currentCity: randomCity,\n            currentCountry: 'Ireland',\n            currentPostcode: '',\n            currentEircode: '' // Clear current EIRCode\n          }));\n\n          setEircodeError(''); // Clear errors since we successfully generated an address\n        }\n      }\n    } catch (error) {\n      console.error('Error getting location:', error);\n      if (error.code === 1) {\n        setEircodeError('Location access denied. Please enable location services and try again.');\n      } else if (error.code === 2) {\n        setEircodeError('Location unavailable. Please check your device settings.');\n      } else if (error.code === 3) {\n        setEircodeError('Location request timed out. Please try again.');\n      } else {\n        setEircodeError('Error getting your current location. Please try again.');\n      }\n    } finally {\n      setIsLoadingLocation(false);\n      console.log('Geolocation request completed');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 relative\">\n      {/* Theme Selector Button */}\n      <div className=\"fixed top-4 right-4 z-50\">\n        <div className=\"relative\">\n          <button\n            onClick={() => setShowThemeSelector(!showThemeSelector)}\n            className={`p-3 rounded-full ${theme.primarySolid} ${theme.primaryHover} text-white shadow-lg transition-all transform hover:scale-105`}\n          >\n            <Palette size={20} />\n          </button>\n\n          {/* Theme Selector Dropdown */}\n          {showThemeSelector && (\n            <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200\">\n              <div className=\"p-4 border-b border-gray-100\">\n                <h3 className=\"font-semibold text-gray-900\">Choose Theme</h3>\n                <p className=\"text-sm text-gray-600\">Customize your experience</p>\n              </div>\n              <div className=\"p-2 max-h-80 overflow-y-auto\">\n                {Object.entries(themes).map(([key, themeOption]) => (\n                  <button\n                    key={key}\n                    onClick={() => handleThemeChange(key)}\n                    className={`w-full p-3 rounded-lg mb-2 text-left transition-all hover:bg-gray-50 ${currentTheme === key ? 'bg-gray-100 ring-2 ring-offset-2 ring-gray-200' : ''\n                      }`}\n                  >\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={`w-8 h-8 rounded-lg bg-gradient-to-r ${themeOption.gradient} shadow-sm`}></div>\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{themeOption.name}</div>\n                        {currentTheme === key && (\n                          <div className=\"flex items-center space-x-1 text-sm text-gray-600\">\n                            <Check size={12} />\n                            <span>Active</span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      {/* Header */}\n      <header className={`bg-gradient-to-r ${theme.primary} shadow-lg`}>\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {/* Desktop Layout */}\n          <div className=\"flex justify-between items-center min-h-16 py-3\">\n\n            {/* Logo - Left side */}\n            <div className=\"flex items-center bg-white p-1 rounded flex-shrink-0\">\n              <img src=\"/SouthDocLogo.png\" alt=\"SouthDoc Logo\" className=\"h-12 w-auto\" />\n            </div>\n\n            {/* SouthDoc Description - Right side (Desktop only) */}\n            <div className=\"hidden sm:block text-white text-right max-w-md\">\n              <div className=\"font-bold text-lg leading-tight\">\n                SouthDoc is a GP out-of-hours service\n              </div>\n              <div className=\"text-sm opacity-90 leading-tight mt-1\">\n                for medical issues that cannot wait for daytime practice\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </header>\n\n      {/* Booking Form */}\n      <section className=\"py-16\">\n        <div className=\"max-w-[1600px] mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">Book Your Consultation</h2>\n            <p className=\"text-gray-600\">Get professional medical care in just two simple steps</p>\n          </div>\n\n          {/* Step Indicator */}\n          <div className=\"flex justify-center mb-12\">\n            <div className=\"flex items-center space-x-4\">\n              <div className={`w-10 h-10 rounded-full ${currentStep === 1 ? theme.primarySolid : 'bg-gray-200'} text-white flex items-center justify-center font-semibold`}>\n                1\n              </div>\n              <div className={`w-24 h-1 ${currentStep === 2 ? theme.primarySolid : 'bg-gray-200'}`}></div>\n              <div className={`w-10 h-10 rounded-full ${currentStep === 2 ? theme.primarySolid : 'bg-gray-200'} ${currentStep === 2 ? 'text-white' : 'text-gray-500'} flex items-center justify-center font-semibold`}>\n                2\n              </div>\n            </div>\n          </div>\n\n          {currentStep === 1 ? (\n            <div className=\"bg-white rounded-2xl shadow-xl overflow-hidden\">\n              <div className=\"grid md:grid-cols-2 gap-0\">\n                {/* Patient Information */}\n                <div className=\"p-8 border-r border-gray-100\">\n                  <div className=\"flex items-center space-x-2 mb-6\">\n                    <Users className={theme.accent} size={20} />\n                    <h3 className=\"text-xl font-semibold text-gray-900\">Patient Information</h3>\n                  </div>\n                  <p className=\"text-gray-600 mb-6\">Tell us about yourself</p>\n\n                  <div className=\"space-y-6\">\n                    {/* Reason for Contact Dropdown */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Reason for Contact <span className=\"text-red-500\">*</span>\n                      </label>\n                      <select\n                        name=\"reasonForContact\"\n                        value={formData.reasonForContact}\n                        onChange={handleInputChange}\n                        required\n                        className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\"\n                      >\n                        <option value=\"\">Select reason for contact</option>\n                        <option value=\"general_consultation\">General Consultation</option>\n                        <option value=\"follow_up\">Follow-up Appointment</option>\n                        <option value=\"prescription_renewal\">Prescription Renewal</option>\n                        <option value=\"test_results\">Test Results</option>\n                        <option value=\"referral\">Referral Request</option>\n                        <option value=\"emergency\">Emergency</option>\n                        <option value=\"other\">Other</option>\n                      </select>\n                    </div>\n\n                    <div className=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          First Name <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"firstName\"\n                          value={formData.firstName}\n                          onChange={handleInputChange}\n                          placeholder=\"Enter your first name\"\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Last Name <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"lastName\"\n                          value={formData.lastName}\n                          onChange={handleInputChange}\n                          placeholder=\"Enter your last name\"\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Date of Birth <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"date\"\n                          name=\"dateOfBirth\"\n                          value={formData.dateOfBirth}\n                          onChange={handleInputChange}\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"gender\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Gender <span className=\"text-red-500\">*</span>\n                        </label>\n                        <select\n                          id=\"gender\"\n                          name=\"gender\"\n                          value={formData.gender}\n                          onChange={handleInputChange}\n                          required\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\"\n                          disabled={isLoadingDropdowns}\n                        >\n                          <option value=\"\">\n                            {isLoadingDropdowns ? 'Loading genders...' : 'Select your gender'}\n                          </option>\n                          {dropdownData.gender.map((genderItem) => (\n                            <option key={genderItem.Id} value={genderItem.Id}>\n                              {genderItem.GenderName}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n\n                    <div className=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">GMS Number</label>\n                        <input\n                          type=\"text\"\n                          name=\"gmsNumber\"\n                          value={formData.gmsNumber}\n                          onChange={handleInputChange}\n                          placeholder=\"Enter your GMS number\"\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                      <div>\n                        <label htmlFor=\"gmsExpiry\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          GMS Expiry\n                        </label>\n                        <input\n                          type=\"date\"\n                          id=\"gmsExpiry\"\n                          name=\"gmsExpiry\"\n                          value={formData.gmsExpiry}\n                          onChange={handleInputChange}\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Contact Number <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"tel\"\n                          name=\"phoneNumber\"\n                          value={formData.phoneNumber}\n                          onChange={handleInputChange}\n                          placeholder=\"+353 xx xxx xxxx\"\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email Address</label>\n                        <input\n                          type=\"email\"\n                          name=\"email\"\n                          value={formData.email}\n                          onChange={handleInputChange}\n                          placeholder=\"your@email.com\"\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label htmlFor=\"gp\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          General Practitioner <span className=\"text-red-500\">*</span>\n                        </label>\n                        <select\n                          id=\"gp\"\n                          name=\"gp\"\n                          value={formData.gp}\n                          onChange={handleInputChange}\n                          required\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\"\n                          disabled={isLoadingDropdowns}\n                        >\n                          <option value=\"\">\n                            {isLoadingDropdowns\n                              ? 'Loading doctors...'\n                              : `Select your GP (${getFilteredGPs().length} available)`\n                            }\n                          </option>\n                          {getFilteredGPs().map((doctor) => (\n                            <option key={doctor.GPID} value={doctor.GPID}>\n                              {doctor.GPName}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                      <div>\n                        <label htmlFor=\"surgery\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Surgery <span className=\"text-red-500\">*</span>\n                        </label>\n                        <select\n                          id=\"surgery\"\n                          name=\"surgery\"\n                          value={formData.surgery}\n                          onChange={handleInputChange}\n                          required\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\"\n                          disabled={isLoadingDropdowns}\n                        >\n                          <option value=\"\">\n                            {isLoadingDropdowns ? 'Loading surgeries...' : 'Select your Surgery'}\n                          </option>\n                          <option value=\"all\">All Surgeries</option>\n                          {dropdownData.surgeries.map((surgery) => (\n                            <option key={surgery.SurgeryID} value={surgery.SurgeryID}>\n                              {surgery.SurgeryName}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n\n\n                  </div>\n                </div>\n\n                {/* Location */}\n                <div className=\"p-8 bg-gray-50\">\n                  <div className=\"flex items-center space-x-2 mb-6\">\n                    <MapPin className={theme.accent} size={20} />\n                    <h3 className=\"text-xl font-semibold text-gray-900\">Location</h3>\n                  </div>\n                  <p className=\"text-gray-600 mb-6\">Enter your location details</p>\n\n                  {/* <button className={`w-full ${theme.primarySolid} ${theme.primaryHover} text-white py-3 rounded-lg font-semibold mb-6 transition-colors flex items-center justify-center space-x-2`}>\n                    <MapPin size={20} />\n                    <span>Use Current Location</span>\n                  </button> */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      <Search size={16} className=\"inline mr-1\" />\n                      Search Eircode\n                    </label>\n                    <div className=\"flex gap-2\">\n                      <div className=\"relative flex-1\">\n                        <input\n                          type=\"text\"\n                          name=\"eircode\"\n                          value={formData.eircode}\n                          onChange={handleInputChange}\n                          placeholder=\"Enter Eircode\"\n                          className={`w-full px-3 py-2 pr-10 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${isLoadingEircode ? 'bg-gray-50' : ''}`}\n                          disabled={isLoadingEircode}\n                        />\n                        {isLoadingEircode ? (\n                          <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\n                          </div>\n                        ) : (\n                          <Search size={16} className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n                        )}\n                      </div>\n                      <button\n                        type=\"button\"\n                        onClick={getCurrentLocation}\n                        disabled={isLoadingLocation || isLoadingEircode}\n                        className={`px-3 py-2 ${theme.primarySolid} ${theme.primaryHover} text-white rounded-lg transition-all flex items-center justify-center min-w-[44px] ${isLoadingLocation || isLoadingEircode ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105 shadow-md hover:shadow-lg'}`}\n                        title={isLoadingLocation ? \"Getting your location...\" : \"Use Current Location\"}\n                        aria-label=\"Use current location to fill address fields\"\n                      >\n                        {isLoadingLocation ? (\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                        ) : (\n                          <MapPin size={16} />\n                        )}\n                      </button>\n                    </div>\n                    {eircodeError && (\n                      <p className=\"mt-1 text-sm text-red-600 flex items-center\">\n                        <span className=\"mr-1\">âš ï¸</span>\n                        {eircodeError}\n                      </p>\n                    )}\n                    {formData.eircode && !isLoadingEircode && !eircodeError && formData.currentCity && (\n                      <p className=\"mt-1 text-sm text-green-600 flex items-center\">\n                        <span className=\"mr-1\">âœ…</span>\n                        Address found and populated in Current Location below\n                      </p>\n                    )}\n                    {!formData.eircode && !isLoadingLocation && !eircodeError && formData.currentCity && (\n                      <p className=\"mt-1 text-sm text-green-600 flex items-center\">\n                        <span className=\"mr-1\">ðŸ“</span>\n                        Current location detected and populated below\n                      </p>\n                    )}\n\n                  </div>\n                  {/* <div className=\"text-center text-gray-500 mb-6\">OR</div> */}\n                  <div className=\"flex justify-between items-center py-4\">\n                    <h3 className=\"text-xl font-semibold text-gray-900\">Home Location</h3>\n\n                    <label className=\"flex items-center space-x-3 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-checkbox h-6 w-6 text-blue-600\"\n                        checked={useHomeAsCurrentLocation}\n                        onChange={handleUseHomeAsCurrentLocation}\n                      />\n                      <span className=\"text-xl font-semibold text-gray-900\">Set as Current Location</span>\n                    </label>\n                  </div>\n                  {/* Manual Location Fields */}\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Building/Flat <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"homeBuilding\"\n                          value={formData.homeBuilding}\n                          onChange={handleInputChange}\n                          placeholder=\"Building number\"\n                          className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Street <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"homeStreet\"\n                          value={formData.homeStreet}\n                          onChange={handleInputChange}\n                          placeholder=\"Street name\"\n                          className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">City</label>\n                        <input\n                          type=\"text\"\n                          name=\"homeCity\"\n                          value={formData.homeCity}\n                          onChange={handleInputChange}\n                          placeholder=\"City\"\n                          className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Country</label>\n                        <input\n                          type=\"text\"\n                          name=\"homeCountry\"\n                          value={formData.homeCountry}\n                          onChange={handleInputChange}\n                          placeholder=\"Country\"\n                          className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                    </div>\n\n                    {/* EIRCode field */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">EIRCode</label>\n                      <input\n                        type=\"text\"\n                        name=\"homeEircode\"\n                        value={formData.homeEircode}\n                        onChange={handleInputChange}\n                        placeholder=\"Enter EIRCode\"\n                        className=\"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                      />\n                    </div>\n\n                  </div>\n                  <h3 className=\"text-xl font-semibold text-gray-900 py-4\">Current Location</h3>\n\n                  {/* Manual Location Fields */}\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Building/Flat <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"currentBuilding\"\n                          value={formData.currentBuilding}\n                          onChange={handleInputChange}\n                          placeholder=\"Building number\"\n                          disabled={useHomeAsCurrentLocation}\n                          className={`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Street <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"currentStreet\"\n                          value={formData.currentStreet}\n                          onChange={handleInputChange}\n                          placeholder=\"Street name\"\n                          disabled={useHomeAsCurrentLocation}\n                          className={`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">City</label>\n                        <input\n                          type=\"text\"\n                          name=\"currentCity\"\n                          value={formData.currentCity}\n                          onChange={handleInputChange}\n                          placeholder=\"City\"\n                          disabled={useHomeAsCurrentLocation}\n                          className={`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`}\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Country</label>\n                        <input\n                          type=\"text\"\n                          name=\"currentCountry\"\n                          value={formData.currentCountry}\n                          onChange={handleInputChange}\n                          placeholder=\"Country\"\n                          disabled={useHomeAsCurrentLocation}\n                          className={`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`}\n                        />\n                      </div>\n                    </div>\n\n                    {/* EIRCode field */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">EIRCode</label>\n                      <input\n                        type=\"text\"\n                        name=\"currentEircode\"\n                        value={formData.currentEircode}\n                        onChange={handleInputChange}\n                        placeholder=\"Enter EIRCode\"\n                        disabled={useHomeAsCurrentLocation}\n                        className={`w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${useHomeAsCurrentLocation ? 'bg-gray-100 cursor-not-allowed' : ''}`}\n                      />\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n\n              {/* Continue Button */}\n              <div className=\"p-8 bg-white border-t border-gray-100\">\n                <button\n                  onClick={() => setCurrentStep(2)}\n                  className={`w-full ${theme.primarySolid} ${theme.primaryHover} text-white py-4 rounded-lg font-semibold text-lg transition-colors`}\n                >\n                  Continue to Booking & Payment\n                </button>\n              </div>\n            </div>\n          ) : (\n            // Step 2: Clinic Selection & Payment\n            <div className=\"bg-white rounded-2xl shadow-xl overflow-hidden\">\n              <div className=\"p-8\">\n                <div className=\"flex items-center space-x-2 mb-6\">\n                  {isVirtualAppointment() ? (\n                    <Video className={theme.accent} size={20} />\n                  ) : (\n                    <MapPin className={theme.accent} size={20} />\n                  )}\n                  <h3 className=\"text-xl font-semibold text-gray-900\">\n                    {isVirtualAppointment() ? 'Select Time Slot' : 'Select Clinic & Time Slot'}\n                  </h3>\n                </div>\n                <p className=\"text-gray-600 mb-6\">\n                  {isVirtualAppointment()\n                    ? `Choose your preferred time for your ${getAppointmentTypeDisplay().toLowerCase()}`\n                    : 'Choose from available clinics nearby'\n                  }\n                </p>\n\n                {/* Appointment Type Selection and Info - Side by Side */}\n                <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\n                  {/* Left Side - Appointment Type Selection */}\n                  <div>\n                    <label htmlFor=\"appointmentType\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Appointment Type <span className=\"text-red-500\">*</span>\n                    </label>\n                    <select\n                      id=\"appointmentType\"\n                      name=\"appointmentType\"\n                      value={formData.appointmentType}\n                      onChange={handleInputChange}\n                      required\n                      className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white\"\n                      disabled={isLoadingDropdowns}\n                    >\n                      <option value=\"\">\n                        {isLoadingDropdowns ? 'Loading appointment types...' : 'Select your appointment type'}\n                      </option>\n                      {dropdownData.appointmentTypes.map((appointmentType) => (\n                        <option key={appointmentType.CaseTypeID} value={appointmentType.CaseTypeID}>\n                          {appointmentType.CaseType}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  {/* Right Side - Appointment Type Info */}\n                  {formData.appointmentType && (\n                    <div className={`p-4 rounded-lg ${theme.accentBg} h-fit`}>\n                      <div className=\"flex items-center space-x-2 mb-2\">\n                        {(() => {\n                          const selectedType = dropdownData.appointmentTypes.find(\n                            type => type.CaseTypeID.toString() === formData.appointmentType.toString()\n                          );\n                          const caseType = selectedType?.CaseType.toLowerCase() || '';\n\n                          if (caseType.includes('video')) {\n                            return <Video size={16} className={theme.accent} />;\n                          } else if (caseType.includes('phone')) {\n                            return <Phone size={16} className={theme.accent} />;\n                          } else {\n                            return <MapPin size={16} className={theme.accent} />;\n                          }\n                        })()}\n                        <span className=\"font-medium text-gray-900\">\n                          {getAppointmentTypeDisplay()}\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-gray-600\">\n                        {(() => {\n                          const selectedType = dropdownData.appointmentTypes.find(\n                            type => type.CaseTypeID.toString() === formData.appointmentType.toString()\n                          );\n                          const caseType = selectedType?.CaseType.toLowerCase() || '';\n\n                          if (caseType.includes('video')) {\n                            return 'You will receive a video call link via email before your appointment.';\n                          } else if (caseType.includes('phone')) {\n                            return 'You will receive a phone call at your registered number at the scheduled time.';\n                          } else {\n                            return 'For appointment please select a time slot below.';\n                          }\n                        })()}\n                      </p>\n                    </div>\n                  )}\n                </div>\n\n                {/* Clinics Grid - Only show for face-to-face appointments */}\n                {!isVirtualAppointment() && (\n                  <div className=\"grid grid-cols-5 gap-3 mb-6\">\n                    {clinics.map((clinic) => (\n                      <div\n                        key={clinic.id}\n                        onClick={() => handleClinicSelect(clinic)}\n                        className={`p-3 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${selectedClinic?.id === clinic.id\n                          ? `${theme.border} ${theme.accentBg}`\n                          : 'border-gray-200 hover:border-gray-300'\n                          }`}\n                      >\n                        <h5 className=\"font-semibold text-sm text-gray-900 mb-1\">{clinic.name}</h5>\n                        <div className=\"text-xs text-gray-600 mb-2\">\n                          <div className=\"flex items-center justify-between\">\n                            <span>{clinic.distance}</span>\n                            <div className=\"flex items-center space-x-1\">\n                              <Star size={10} className=\"text-yellow-400 fill-current\" />\n                              <span>{clinic.rating}</span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <span className={`text-sm font-bold ${theme.accent}`}>{clinic.price}</span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Time Slots */}\n                {(isVirtualAppointment() || selectedClinic) && (\n                  <div className=\"mb-8\">\n                    <h4 className=\"font-semibold text-gray-900 mb-4\">\n                      {isVirtualAppointment()\n                        ? `Available Time Slots for ${getAppointmentTypeDisplay()}:`\n                        : `Available Time Slots for ${selectedClinic.name}:`\n                      }\n                    </h4>\n                    <div className=\"grid grid-cols-6 gap-3\">\n                      {getAvailableTimeSlots().map((slot, index) => (\n                        <button\n                          key={index}\n                          onClick={() => handleSlotSelect(slot)}\n                          className={`p-3 border-2 rounded-lg text-sm font-medium transition-all ${selectedSlot === slot\n                            ? `${theme.primarySolid} text-white`\n                            : 'border-gray-200 text-gray-700 hover:border-blue-300 hover:bg-blue-50'\n                            }`}\n                        >\n                          {slot}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                {/* Payment Information */}\n                <div className=\"border-t border-gray-100 pt-8\">\n                  <div className=\"flex items-center space-x-2 mb-6\">\n                    <Users className={theme.accent} size={20} />\n                    <h3 className=\"text-xl font-semibold text-gray-900\">Payment Information</h3>\n                  </div>\n\n                  <div className=\"grid md:grid-cols-2 gap-6\">\n                    <div className=\"space-y-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Card Number *</label>\n                        <input\n                          type=\"text\"\n                          name=\"cardNumber\"\n                          value={formData.cardNumber}\n                          onChange={handleInputChange}\n                          placeholder=\"1234 5678 9012 3456\"\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Expiry Date *</label>\n                          <input\n                            type=\"text\"\n                            name=\"expiryDate\"\n                            value={formData.expiryDate}\n                            onChange={handleInputChange}\n                            placeholder=\"MM/YY\"\n                            className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                          />\n                        </div>\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">CVV *</label>\n                          <input\n                            type=\"text\"\n                            name=\"cvv\"\n                            value={formData.cvv}\n                            onChange={handleInputChange}\n                            placeholder=\"123\"\n                            className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                          />\n                        </div>\n                      </div>\n\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Cardholder Name <span className=\"text-red-500\">*</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"cardName\"\n                          value={formData.cardName}\n                          onChange={handleInputChange}\n                          placeholder=\"John Doe\"\n                          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                        />\n                      </div>\n                      <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                        <div className=\"flex items-start space-x-2\">\n                          <div className=\"text-yellow-600 mt-0.5\">ðŸ”’</div>\n                          <div>\n                            <p className=\"text-sm font-medium text-yellow-800\">Secure Payment</p>\n                            <p className=\"text-xs text-yellow-700 mt-1\">Your payment information is encrypted and secure.</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-4 pt-6\">\n                      {/* Booking Summary */}\n                      {((isVirtualAppointment() && selectedSlot) || (selectedClinic && selectedSlot)) && (\n                        <div className={`p-4 rounded-lg ${theme.accentBg} mb-6`}>\n                          <h4 className=\"font-semibold text-gray-900 mb-2\">Booking Summary</h4>\n                          <div className=\"space-y-3 text-sm text-gray-600\">\n                            <p>ðŸ“‹ Type: {getAppointmentTypeDisplay()}</p>\n                            {!isVirtualAppointment() && (\n                              <p>ðŸ¥ Clinic: {selectedClinic.name}</p>\n                            )}\n                            <p>ðŸ• Time: {selectedSlot}</p>\n                            <p>ðŸ‘¤ Patient: {formData.fullName || `${formData.firstName} ${formData.lastName}`.trim() || 'Not specified'}</p>\n                            <p>ðŸ“§ Email: {formData.email || 'Not specified'}</p>\n                            <p>ðŸ“ž Phone: {formData.phoneNumber || 'Not specified'}</p>\n                            {isVirtualAppointment() && (\n                              <p className=\"text-blue-600 font-medium\">\n                                {formData.appointmentType === 'vc'\n                                  ? 'ðŸ’» Video link will be sent to your email'\n                                  : 'ðŸ“ž You will receive a call at the scheduled time'\n                                }\n                              </p>\n                            )}\n                          </div>\n                          <div className=\"mt-4 pt-4 border-t border-gray-200 pb-14\">\n                            <div className=\"flex justify-between items-center\">\n                              <span className=\"font-semibold\">Total:</span>\n                              <span className={`text-2xl font-bold ${theme.accent}`}>\n                                {isVirtualAppointment() ? 'Â£35' : selectedClinic?.price || 'Â£45'}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"p-8 bg-white border-t border-gray-100\">\n                <div className=\"flex space-x-4\">\n                  <button\n                    onClick={() => setCurrentStep(1)}\n                    className=\"flex-1 px-6 py-4 border-2 border-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors\"\n                  >\n                    Back to Details\n                  </button>\n                  <button\n                    onClick={handleCompleteBooking}\n                    className={`flex-1 ${theme.primarySolid} ${theme.primaryHover} text-white py-4 rounded-lg font-semibold text-lg transition-colors`}\n                    disabled={isVirtualAppointment() ? !selectedSlot : (!selectedClinic || !selectedSlot)}\n                  >\n                    Complete Booking & Pay {isVirtualAppointment() ? 'Â£35' : (selectedClinic?.price || '')}\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* Success Popup */}\n      {showSuccessPopup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-sm w-full\">\n            {/* Header */}\n            <div className=\"p-6 text-center\">\n              <div className={`w-16 h-16 ${theme.accentBg} rounded-full flex items-center justify-center mx-auto mb-4`}>\n                <Check size={32} className={theme.accent} />\n              </div>\n              <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Booking Confirmed!</h2>\n              <p className={`text-lg font-bold ${theme.accent} mb-4`}>{bookingReference}</p>\n            </div>\n\n            {/* Booking Summary */}\n            <div className=\"px-6 pb-6\">\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-gray-600\">Patient:</span>\n                  <span className=\"font-medium text-gray-900\">\n                    {formData.fullName || `${formData.firstName} ${formData.lastName}`.trim() || 'N/A'}\n                  </span>\n                </div>\n\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-gray-600\">Type:</span>\n                  <span className=\"font-medium text-gray-900\">\n                    {getAppointmentTypeDisplay()}\n                  </span>\n                </div>\n\n                {!isVirtualAppointment() && selectedClinic && (\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-gray-600\">Clinic:</span>\n                    <span className=\"font-medium text-gray-900\">{selectedClinic.name}</span>\n                  </div>\n                )}\n\n                {selectedSlot && (\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-gray-600\">Time:</span>\n                    <span className=\"font-medium text-gray-900\">{selectedSlot}</span>\n                  </div>\n                )}\n\n                <div className=\"flex justify-between items-center pt-2 border-t border-gray-200\">\n                  <span className=\"text-gray-600\">Amount:</span>\n                  <span className={`font-bold text-lg ${theme.accent}`}>\n                    {isVirtualAppointment() ? 'Â£35' : (selectedClinic?.price || 'Â£35')}\n                  </span>\n                </div>\n              </div>\n\n              {/* OK Button */}\n              <button\n                onClick={handleSuccessPopupClose}\n                className={`w-full mt-6 ${theme.primarySolid} ${theme.primaryHover} text-white py-3 px-6 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 shadow-lg`}\n              >\n                OK\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Sign In Webhook Response Popup */}\n      {showSignInPopup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden\">\n            {/* Header */}\n            <div className=\"p-6 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-xl font-bold text-gray-900\">Webhook Response</h2>\n                <button\n                  onClick={handleSignInPopupClose}\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            {/* Response Content */}\n            <div className=\"p-6 overflow-y-auto max-h-96\">\n              {webhookResponse ? (\n                <div className=\"space-y-4\">\n                  {/* Status Indicator */}\n                  <div className={`flex items-center space-x-2 p-3 rounded-lg ${\n                    webhookResponse.error\n                      ? 'bg-red-50 text-red-700'\n                      : 'bg-green-50 text-green-700'\n                  }`}>\n                    {webhookResponse.error ? (\n                      <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                      </svg>\n                    ) : (\n                      <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                      </svg>\n                    )}\n                    <span className=\"font-medium\">\n                      {webhookResponse.error ? 'Error Response' : 'Success Response'}\n                    </span>\n                  </div>\n\n                  {/* Table Response */}\n                  <div className=\"bg-white rounded-lg border border-gray-200\">\n                    <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                      <h3 className=\"text-sm font-medium text-gray-700\">Response Data</h3>\n                    </div>\n                    <div className=\"p-4\">\n                      {renderJsonAsTable(webhookResponse)}\n                    </div>\n                  </div>\n\n                  {/* Response Details */}\n                  {webhookResponse.status && (\n                    <div className=\"bg-blue-50 rounded-lg p-4\">\n                      <h3 className=\"text-sm font-medium text-blue-700 mb-2\">HTTP Details:</h3>\n                      <div className=\"text-sm text-blue-600 space-y-1\">\n                        <p><strong>Status:</strong> {webhookResponse.status} {webhookResponse.statusText}</p>\n                        <p><strong>Timestamp:</strong> {new Date().toLocaleString()}</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n                  <p className=\"text-gray-600\">Loading webhook response...</p>\n                </div>\n              )}\n            </div>\n\n            {/* Footer */}\n            <div className=\"p-6 border-t border-gray-200\">\n              <button\n                onClick={handleSignInPopupClose}\n                className={`w-full ${theme.primarySolid} ${theme.primaryHover} text-white py-3 px-6 rounded-xl font-semibold text-lg transition-all transform hover:scale-105 shadow-lg`}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}